---
layout: single
title: "AWS ECR - ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì™„ë²½ ê°€ì´ë“œ"
date: 2026-02-27 23:00:00 +0900
categories: cloud
excerpt: "AWS ECRì€ IAM í†µí•©ê³¼ ë³´ì•ˆ ìŠ¤ìº”ì„ ì œê³µí•˜ëŠ” ê´€ë¦¬í˜• ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë ˆì§€ìŠ¤íŠ¸ë¦¬ë‹¤."
toc: true
toc_sticky: true
tags: [aws, ecr, container, docker, registry, image]
---

**TL;DR**

- ECRì€ ë ˆì§€ìŠ¤íŠ¸ë¦¬Â·ë¦¬í¬ì§€í† ë¦¬Â·ì´ë¯¸ì§€ 3ë‹¨ êµ¬ì¡°ë¡œ ê´€ë¦¬ëœë‹¤.
- IAM, ë¼ì´í”„ì‚¬ì´í´ ì •ì±…, ì´ë¯¸ì§€ ìŠ¤ìº”, ë³µì œ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.
- Docker Hub ëŒ€ë¹„ ë³´ì•ˆÂ·ë¹„ìš©Â·ì§€ì—° ë¬¸ì œë¥¼ ê°œì„ í•œë‹¤.

## 1. ê°œë…
ECRì€ AWSê°€ ì œê³µí•˜ëŠ” ê´€ë¦¬í˜• ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë¹„ìŠ¤ë‹¤.

## 2. ë°°ê²½
Docker Hubì˜ ì œí•œê³¼ ê¸°ì—… ë³´ì•ˆ ìš”êµ¬ë¡œ ì „ìš© ë ˆì§€ìŠ¤íŠ¸ë¦¬ê°€ í•„ìš”í•´ì¡Œë‹¤.

## 3. ì´ìœ 
ê¶Œí•œ í†µì œ, ê°ì‚¬, ë¹„ìš© íš¨ìœ¨ì„ í™•ë³´í•˜ê¸° ìœ„í•´ ECRì„ ì‚¬ìš©í•œë‹¤.

## 4. íŠ¹ì§•
IAM í†µí•©, lifecycle ì •ì±…, ìŠ¤ìº”, pull-through cache, ë¦¬ì „ ë³µì œê°€ í•µì‹¬ì´ë‹¤.

## 5. ìƒì„¸ ë‚´ìš©
# AWS ECR - ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì™„ë²½ ê°€ì´ë“œ

> **ì‘ì„±ì¼**: 2026-02-27
> **ì¹´í…Œê³ ë¦¬**: Cloud / AWS / Container
> **í¬í•¨ ë‚´ìš©**: ECR, Elastic Container Registry, Repository, Registry, Docker, OCI, Image, Tag, Digest, Manifest, Layer, Lifecycle Policy, Image Scanning, Pull Through Cache, Replication

---

# 1. ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë ˆì§€ìŠ¤íŠ¸ë¦¬ë€?

## 1.1 ë ˆì§€ìŠ¤íŠ¸ë¦¬ = "ì»¨í…Œì´ë„ˆ ì„¸ê³„ì˜ ì•± ìŠ¤í† ì–´"

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ê°œë… (ë¹„ìœ )                â”‚
â”‚                                                                   â”‚
â”‚  ë¹„ìœ : ì•± ìŠ¤í† ì–´ì™€ ì»¨í…Œì´ë„ˆ ë ˆì§€ìŠ¤íŠ¸ë¦¬                           â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ì•± ìŠ¤í† ì–´ (App Store / Google Play)                     â”‚    â”‚
â”‚  â”‚  â”œâ”€â”€ ì•± ê°œë°œìê°€ ì•±ì„ "ì—…ë¡œë“œ" (push)                    â”‚    â”‚
â”‚  â”‚  â”œâ”€â”€ ì‚¬ìš©ìê°€ ì•±ì„ "ë‹¤ìš´ë¡œë“œ" (pull)                     â”‚    â”‚
â”‚  â”‚  â”œâ”€â”€ ë²„ì „ë³„ë¡œ ê´€ë¦¬ (v1.0, v2.0, v2.1)                   â”‚    â”‚
â”‚  â”‚  â””â”€â”€ ì¹´í…Œê³ ë¦¬ë³„ ì •ë¦¬ (ê²Œì„, ìœ í‹¸ë¦¬í‹°, SNS)               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â†• ë˜‘ê°™ì€ êµ¬ì¡°                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ì»¨í…Œì´ë„ˆ ë ˆì§€ìŠ¤íŠ¸ë¦¬ (ECR / Docker Hub)                  â”‚    â”‚
â”‚  â”‚  â”œâ”€â”€ ê°œë°œìê°€ ì´ë¯¸ì§€ë¥¼ "push"                            â”‚    â”‚
â”‚  â”‚  â”œâ”€â”€ ì„œë²„ê°€ ì´ë¯¸ì§€ë¥¼ "pull"                              â”‚    â”‚
â”‚  â”‚  â”œâ”€â”€ íƒœê·¸ë¡œ ë²„ì „ ê´€ë¦¬ (latest, v1.0, v2.0)              â”‚    â”‚
â”‚  â”‚  â””â”€â”€ ë ˆí¬ì§€í† ë¦¬ë³„ ì •ë¦¬ (frontend, backend, worker)       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                   â”‚
â”‚  í•µì‹¬: ë ˆì§€ìŠ¤íŠ¸ë¦¬ = ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ì˜ ì¤‘ì•™ ì €ì¥ì†Œ + ë°°í¬ í—ˆë¸Œ   â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 1.2 Docker Hubì˜ ì—­í• ê³¼ í•œê³„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Docker Hub - ìµœì´ˆì˜ í¼ë¸”ë¦­ ë ˆì§€ìŠ¤íŠ¸ë¦¬              â”‚
â”‚                                                                   â”‚
â”‚  Docker HubëŠ” ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ì˜ "GitHub" ê°™ì€ ì¡´ì¬              â”‚
â”‚                                                                   â”‚
â”‚  ì¥ì :                                                            â”‚
â”‚  â”œâ”€â”€ ë¬´ë£Œë¡œ í¼ë¸”ë¦­ ì´ë¯¸ì§€ ì œê³µ (nginx, ubuntu, node ë“±)         â”‚
â”‚  â”œâ”€â”€ ì»¤ë®¤ë‹ˆí‹° ì´ë¯¸ì§€ í’ë¶€                                       â”‚
â”‚  â””â”€â”€ docker pull nginx í•œ ì¤„ì´ë©´ ë°”ë¡œ ì‚¬ìš©                      â”‚
â”‚                                                                   â”‚
â”‚  ê¸°ì—… í™˜ê²½ì—ì„œì˜ í•œê³„:                                           â”‚
â”‚  â”œâ”€â”€ ğŸ”’ IAM í†µí•© ë¶ˆê°€: AWS ê¶Œí•œ ì²´ê³„ì™€ ë¶„ë¦¬                     â”‚
â”‚  â”œâ”€â”€ ğŸš« Rate Limiting: ìµëª… 100pulls/6h, ì¸ì¦ 200pulls/6h      â”‚
â”‚  â”œâ”€â”€ ğŸŒ ì§€ì—° ì‹œê°„: AWS ë¦¬ì „ì—ì„œ ì™¸ë¶€ë¡œ ë‚˜ê°”ë‹¤ ëŒì•„ì˜´            â”‚
â”‚  â”œâ”€â”€ ğŸ’° ì „ì†¡ ë¹„ìš©: AWS â†’ ì¸í„°ë„· â†’ Docker Hub â†’ ì¸í„°ë„· â†’ AWS    â”‚
â”‚  â””â”€â”€ ğŸ“‹ ê°ì‚¬ ë¡œê·¸ ì—†ìŒ: ëˆ„ê°€ ì–¸ì œ ì–´ë–¤ ì´ë¯¸ì§€ë¥¼ pull í–ˆëŠ”ì§€     â”‚
â”‚                                                                   â”‚
â”‚  â†’ ì´ ë¬¸ì œë“¤ì„ í•´ê²°í•˜ê¸° ìœ„í•´ AWS ECRì´ íƒ„ìƒ!                    â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 2. ECRì˜ í•µì‹¬ ê°œë… - Registry, Repository, Image

## 2.1 3ë‹¨ ê³„ì¸µ êµ¬ì¡°: Registry > Repository > Image

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ECR 3ë‹¨ ê³„ì¸µ êµ¬ì¡°                              â”‚
â”‚                                                                   â”‚
â”‚  Registry (ë ˆì§€ìŠ¤íŠ¸ë¦¬)                                            â”‚
â”‚  â”œâ”€â”€ AWS ê³„ì •ë‹¹ ë¦¬ì „ë³„ 1ê°œ ìë™ ìƒì„±                             â”‚
â”‚  â”œâ”€â”€ URI: 123456789012.dkr.ecr.ap-northeast-2.amazonaws.com     â”‚
â”‚  â”‚        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                      â”‚
â”‚  â”‚        AWS ê³„ì • ID         ë¦¬ì „ ì´ë¦„                          â”‚
â”‚  â”‚                                                                â”‚
â”‚  â”œâ”€â”€ Repository: my-backend-api                                   â”‚
â”‚  â”‚   â”œâ”€â”€ Image: v1.0.0 (tag)                                     â”‚
â”‚  â”‚   â”œâ”€â”€ Image: v1.1.0 (tag)                                     â”‚
â”‚  â”‚   â”œâ”€â”€ Image: v2.0.0 (tag)                                     â”‚
â”‚  â”‚   â””â”€â”€ Image: latest (tag)                                     â”‚
â”‚  â”‚                                                                â”‚
â”‚  â”œâ”€â”€ Repository: my-frontend-app                                  â”‚
â”‚  â”‚   â”œâ”€â”€ Image: v1.0.0                                            â”‚
â”‚  â”‚   â””â”€â”€ Image: latest                                            â”‚
â”‚  â”‚                                                                â”‚
â”‚  â””â”€â”€ Repository: worker-service                                   â”‚
â”‚      â”œâ”€â”€ Image: v3.2.1                                            â”‚
â”‚      â””â”€â”€ Image: latest                                            â”‚
â”‚                                                                   â”‚
â”‚  ë¹„ìœ :                                                            â”‚
â”‚  â”œâ”€â”€ Registry  = ë„ì„œê´€ ê±´ë¬¼ (ê³„ì •+ë¦¬ì „ ë‹¨ìœ„)                    â”‚
â”‚  â”œâ”€â”€ Repository = ë„ì„œê´€ì˜ ì±…ê½‚ì´ (ì•± í•˜ë‚˜ ë‹¨ìœ„)                 â”‚
â”‚  â””â”€â”€ Image     = ì±…ê½‚ì´ì˜ ì±… (ì•±ì˜ íŠ¹ì • ë²„ì „)                   â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2.2 Registry - AWS ê³„ì •ì˜ ì´ë¯¸ì§€ ê¸ˆê³ 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Registry ìƒì„¸                              â”‚
â”‚                                                                   â”‚
â”‚  í•˜ë‚˜ì˜ Registry URI êµ¬ì¡°:                                       â”‚
â”‚                                                                   â”‚
â”‚  123456789012.dkr.ecr.ap-northeast-2.amazonaws.com               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€  â”€â”¬â”€ â”€â”¬â”€ â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€  â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€              â”‚
â”‚  AWSê³„ì •ID    ECR  ë¦¬ì „     ë¦¬ì „ì´ë¦„     ë„ë©”ì¸                   â”‚
â”‚                                                                   â”‚
â”‚  íŠ¹ì§•:                                                            â”‚
â”‚  â”œâ”€â”€ ê³„ì •+ë¦¬ì „ ì¡°í•©ë§ˆë‹¤ ìë™ìœ¼ë¡œ 1ê°œ ì¡´ì¬                        â”‚
â”‚  â”œâ”€â”€ ë³„ë„ ìƒì„±/ì‚­ì œ ë¶ˆê°€ (ê³„ì •ì— ì¢…ì†)                           â”‚
â”‚  â”œâ”€â”€ Private Registry: ê¸°ë³¸, IAMìœ¼ë¡œ ì ‘ê·¼ ì œì–´                   â”‚
â”‚  â””â”€â”€ Public Registry: public.ecr.aws (ECR Public Gallery)        â”‚
â”‚                                                                   â”‚
â”‚  ECR Public vs Private:                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚     êµ¬ë¶„        â”‚    Private ECR    â”‚    Public ECR     â”‚       â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚
â”‚  â”‚ URI            â”‚ ACCT.dkr.ecr...  â”‚ public.ecr.aws/  â”‚       â”‚
â”‚  â”‚ ì¸ì¦           â”‚ IAM í•„ìˆ˜         â”‚ ì¸ì¦ ì—†ì´ pull    â”‚       â”‚
â”‚  â”‚ ë¦¬ì „           â”‚ ëª¨ë“  ë¦¬ì „        â”‚ us-east-1 only    â”‚       â”‚
â”‚  â”‚ ìš©ë„           â”‚ ì‚¬ë‚´ ì•± ì´ë¯¸ì§€   â”‚ OSS/ê³µê°œ ì´ë¯¸ì§€   â”‚       â”‚
â”‚  â”‚ ë¹„ìš©           â”‚ ì €ì¥+ì „ì†¡        â”‚ 50GB ë¬´ë£Œ         â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2.3 Repository - í•˜ë‚˜ì˜ ì•± ì´ë¯¸ì§€ ì €ì¥ì†Œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Repository ìƒì„¸                               â”‚
â”‚                                                                   â”‚
â”‚  Repository = í•˜ë‚˜ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ëª¨ë“  ì´ë¯¸ì§€ ë²„ì „ ì €ì¥ ë‹¨ìœ„   â”‚
â”‚                                                                   â”‚
â”‚  ìƒì„± ì˜ˆì‹œ:                                                       â”‚
â”‚  aws ecr create-repository --repository-name my-backend-api      â”‚
â”‚                                                                   â”‚
â”‚  Namespaceë¡œ ê³„ì¸µì  ì´ë¦„ ì§€ì • (í´ë”ì²˜ëŸ¼ /ë¡œ êµ¬ë¶„):              â”‚
â”‚  â”œâ”€â”€ frontend/react-app                                           â”‚
â”‚  â”œâ”€â”€ frontend/admin-dashboard                                     â”‚
â”‚  â”œâ”€â”€ backend/user-service                                         â”‚
â”‚  â”œâ”€â”€ backend/order-service                                        â”‚
â”‚  â””â”€â”€ infra/nginx-proxy                                            â”‚
â”‚                                                                   â”‚
â”‚  Repository ì„¤ì • ì˜µì…˜:                                            â”‚
â”‚  â”œâ”€â”€ Image Tag Mutability: MUTABLE / IMMUTABLE                   â”‚
â”‚  â”œâ”€â”€ Image Scanning: on push / continuous                         â”‚
â”‚  â”œâ”€â”€ Encryption: AES-256 (ê¸°ë³¸) / KMS (ì»¤ìŠ¤í…€)                   â”‚
â”‚  â””â”€â”€ Lifecycle Policy: ì˜¤ë˜ëœ/ë¶ˆí•„ìš”í•œ ì´ë¯¸ì§€ ìë™ ì‚­ì œ          â”‚
â”‚                                                                   â”‚
â”‚  ì£¼ì˜: RepositoryëŠ” ë¯¸ë¦¬ ìƒì„±í•´ì•¼ push ê°€ëŠ¥!                     â”‚
â”‚  (Docker Hubì™€ ë‹¤ë¦„ - Docker HubëŠ” pushí•˜ë©´ ìë™ ìƒì„±)           â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 3. ì´ë¯¸ì§€ êµ¬ì¡° - Layer, Manifest, Digest, Tag

## 3.1 Layer - Dockerfile í•œ ì¤„ = í•˜ë‚˜ì˜ ë ˆì´ì–´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ = ë ˆì´ì–´ì˜ ìŠ¤íƒ               â”‚
â”‚                                                                   â”‚
â”‚  Dockerfile:                     ê²°ê³¼ ì´ë¯¸ì§€:                     â”‚
â”‚                                                                   â”‚
â”‚  FROM node:18-alpine     â”€â”€â†’  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚                                â”‚ Layer 1: node:18-alpine  â”‚      â”‚
â”‚                                â”‚ (ì•½ 170MB, ê³µìœ  ê°€ëŠ¥)    â”‚      â”‚
â”‚  WORKDIR /app            â”€â”€â†’  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚                                â”‚ Layer 2: WORKDIR ì„¤ì •    â”‚      â”‚
â”‚                                â”‚ (ê±°ì˜ 0 bytes)           â”‚      â”‚
â”‚  COPY package*.json .    â”€â”€â†’  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚                                â”‚ Layer 3: package.json    â”‚      â”‚
â”‚                                â”‚ (ìˆ˜ KB)                  â”‚      â”‚
â”‚  RUN npm ci              â”€â”€â†’  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚                                â”‚ Layer 4: node_modules    â”‚      â”‚
â”‚                                â”‚ (ìˆ˜ì‹­~ìˆ˜ë°± MB)           â”‚      â”‚
â”‚  COPY . .                â”€â”€â†’  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚                                â”‚ Layer 5: ì†ŒìŠ¤ ì½”ë“œ       â”‚      â”‚
â”‚                                â”‚ (ìˆ˜ MB)                  â”‚      â”‚
â”‚  CMD ["node", "app.js"]  â”€â”€â†’  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚                                â”‚ Layer 6: CMD ì„¤ì •        â”‚      â”‚
â”‚                                â”‚ (ë©”íƒ€ë°ì´í„°ë§Œ)           â”‚      â”‚
â”‚                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                   â”‚
â”‚  í•µì‹¬ ì›ë¦¬: SHA256 í•´ì‹œë¡œ ì¤‘ë³µ ì œê±° (Content Addressable)        â”‚
â”‚  â”œâ”€â”€ ê°™ì€ FROM node:18-alpine â†’ ë™ì¼ ë ˆì´ì–´ ì¬ì‚¬ìš©               â”‚
â”‚  â”œâ”€â”€ package.json ì•ˆ ë°”ë€Œë©´ â†’ Layer 3, 4 ìºì‹œ ì‚¬ìš©              â”‚
â”‚  â””â”€â”€ ì†ŒìŠ¤ ì½”ë“œë§Œ ë³€ê²½ ì‹œ â†’ Layer 5ë§Œ ìƒˆë¡œ push                   â”‚
â”‚                                                                   â”‚
â”‚  ECRì—ì„œì˜ ë ˆì´ì–´ ê³µìœ :                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  Repository A (v1.0)    Repository A (v1.1)        â”‚          â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚          â”‚
â”‚  â”‚  â”‚ Layer 1     â”‚ â†â”€â”€â”€â†’ â”‚ Layer 1     â”‚ (ê³µìœ !)    â”‚          â”‚
â”‚  â”‚  â”‚ Layer 2     â”‚ â†â”€â”€â”€â†’ â”‚ Layer 2     â”‚ (ê³µìœ !)    â”‚          â”‚
â”‚  â”‚  â”‚ Layer 3     â”‚ â†â”€â”€â”€â†’ â”‚ Layer 3     â”‚ (ê³µìœ !)    â”‚          â”‚
â”‚  â”‚  â”‚ Layer 4 (A) â”‚       â”‚ Layer 4 (B) â”‚ (ë‹¤ë¦„)     â”‚          â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚          â”‚
â”‚  â”‚                                                    â”‚          â”‚
â”‚  â”‚  â†’ ì €ì¥ ë¹„ìš©: Layer 1~3ì€ í•œ ë²ˆë§Œ ì €ì¥/ê³¼ê¸ˆ!       â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 3.2 Manifest - ì´ë¯¸ì§€ì˜ ì„¤ëª…ì„œ (JSON)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Manifest = ì´ë¯¸ì§€ ì„¤ëª…ì„œ                       â”‚
â”‚                                                                   â”‚
â”‚  ManifestëŠ” "ì´ ì´ë¯¸ì§€ê°€ ì–´ë–¤ ë ˆì´ì–´ë¡œ êµ¬ì„±ë˜ì–´ ìˆëŠ”ì§€" ì„¤ëª…    â”‚
â”‚                                                                   â”‚
â”‚  Image Manifest (ë‹¨ì¼ ì•„í‚¤í…ì²˜):                                 â”‚
â”‚  {                                                                â”‚
â”‚    "schemaVersion": 2,                                            â”‚
â”‚    "mediaType": "application/vnd.oci.image.manifest.v1+json",    â”‚
â”‚    "config": {                                                    â”‚
â”‚      "digest": "sha256:abc123...",   â† ì´ë¯¸ì§€ ì„¤ì •               â”‚
â”‚      "size": 7023                                                 â”‚
â”‚    },                                                             â”‚
â”‚    "layers": [                                                    â”‚
â”‚      { "digest": "sha256:def456...", "size": 32654481 },         â”‚
â”‚      { "digest": "sha256:ghi789...", "size": 16724970 },         â”‚
â”‚      { "digest": "sha256:jkl012...", "size": 73109 }             â”‚
â”‚    ]                  â†‘ ê° ë ˆì´ì–´ì˜ SHA256 í•´ì‹œì™€ í¬ê¸°            â”‚
â”‚  }                                                                â”‚
â”‚                                                                   â”‚
â”‚  Manifest List (ë©€í‹° ì•„í‚¤í…ì²˜ = Fat Manifest):                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  Manifest List (sha256:aaa...)                       â”‚        â”‚
â”‚  â”‚  â”œâ”€â”€ linux/amd64  â†’ Manifest (sha256:bbb...)         â”‚        â”‚
â”‚  â”‚  â”‚   â””â”€â”€ Layers: [sha256:111, sha256:222, ...]       â”‚        â”‚
â”‚  â”‚  â”œâ”€â”€ linux/arm64  â†’ Manifest (sha256:ccc...)         â”‚        â”‚
â”‚  â”‚  â”‚   â””â”€â”€ Layers: [sha256:333, sha256:444, ...]       â”‚        â”‚
â”‚  â”‚  â””â”€â”€ linux/arm/v7 â†’ Manifest (sha256:ddd...)         â”‚        â”‚
â”‚  â”‚      â””â”€â”€ Layers: [sha256:555, sha256:666, ...]       â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                   â”‚
â”‚  â†’ docker pull my-image:v1.0 í•˜ë©´                                â”‚
â”‚    í˜„ì¬ ë¨¸ì‹ ì˜ ì•„í‚¤í…ì²˜ì— ë§ëŠ” Manifestë¥¼ ìë™ ì„ íƒ!             â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 3.3 Digest vs Tag - ë¶ˆë³€ vs ê°€ë³€ ì‹ë³„ì

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Digest vs Tag ë¹„êµ                               â”‚
â”‚                                                                   â”‚
â”‚  Digest (ë‹¤ì´ì œìŠ¤íŠ¸):                                             â”‚
â”‚  â”œâ”€â”€ í˜•ì‹: sha256:64ìë¦¬ 16ì§„ìˆ˜                                   â”‚
â”‚  â”œâ”€â”€ ì˜ˆ: sha256:a3ed95caeb02ffe68cdd9fd84406680ae93d633cb16422d0â”‚
â”‚  â”œâ”€â”€ ì´ë¯¸ì§€ ë‚´ìš©ì˜ í•´ì‹œê°’ â†’ ë‚´ìš©ì´ ë°”ë€Œë©´ Digestë„ ë°”ë€œ         â”‚
â”‚  â”œâ”€â”€ ë¶ˆë³€(Immutable): í•œë²ˆ ì •í•´ì§€ë©´ ì ˆëŒ€ ë³€í•˜ì§€ ì•ŠìŒ             â”‚
â”‚  â””â”€â”€ ìš©ë„: í”„ë¡œë•ì…˜ì—ì„œ ì •í™•í•œ ì´ë¯¸ì§€ ê³ ì •                       â”‚
â”‚                                                                   â”‚
â”‚  Tag (íƒœê·¸):                                                      â”‚
â”‚  â”œâ”€â”€ í˜•ì‹: ì‚¬ëŒì´ ì½ì„ ìˆ˜ ìˆëŠ” ë¬¸ìì—´                             â”‚
â”‚  â”œâ”€â”€ ì˜ˆ: latest, v1.0.0, 2026-02-27, stable                      â”‚
â”‚  â”œâ”€â”€ ê°€ë³€(Mutable): ê°™ì€ íƒœê·¸ê°€ ë‹¤ë¥¸ ì´ë¯¸ì§€ë¥¼ ê°€ë¦¬í‚¬ ìˆ˜ ìˆìŒ    â”‚
â”‚  â”œâ”€â”€ ìœ„í—˜: latestë¥¼ ì˜¤ëŠ˜ pull â†’ ë‚´ì¼ pull â†’ ë‹¤ë¥¸ ì´ë¯¸ì§€!         â”‚
â”‚  â””â”€â”€ í•´ê²°: Immutable Tags ì„¤ì • â†’ íƒœê·¸ ë®ì–´ì“°ê¸° ë°©ì§€             â”‚
â”‚                                                                   â”‚
â”‚  ì‹œê°ì  ë¹„êµ:                                                     â”‚
â”‚                                                                   â”‚
â”‚  ì‹œì  1 (ì›”ìš”ì¼):                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚ Image A    â”‚ â† tag: "latest"                                   â”‚
â”‚  â”‚ sha256:aaa â”‚ â† digest (ì ˆëŒ€ ì•ˆ ë³€í•¨)                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚                                                                   â”‚
â”‚  ì‹œì  2 (í™”ìš”ì¼, ìƒˆ ì´ë¯¸ì§€ push with latest tag):                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚ Image A    â”‚    (tag ì—†ìŒ = "untagged" ë¨)                     â”‚
â”‚  â”‚ sha256:aaa â”‚ â† digestëŠ” ê·¸ëŒ€ë¡œ                                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚ Image B    â”‚ â† tag: "latest" (ì—¬ê¸°ë¡œ ì´ë™!)                   â”‚
â”‚  â”‚ sha256:bbb â”‚ â† ìƒˆë¡œìš´ digest                                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚                                                                   â”‚
â”‚  â†’ TagëŠ” "í¬ìŠ¤íŠ¸ì‡", DigestëŠ” "ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸"                     â”‚
â”‚  â†’ í”„ë¡œë•ì…˜ì—ì„œëŠ” ë°˜ë“œì‹œ Digest ë˜ëŠ” Immutable Tag ì‚¬ìš©!         â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 4. Image URI í˜•ì‹ - ì´ë¯¸ì§€ë¥¼ ì •í™•íˆ ì§€ì •í•˜ëŠ” ì£¼ì†Œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ECR Image URI í˜•ì‹                             â”‚
â”‚                                                                   â”‚
â”‚  1) Tagë¡œ ì°¸ì¡°:                                                   â”‚
â”‚  123456789012.dkr.ecr.ap-northeast-2.amazonaws.com/my-app:v1.0  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”€â”€â”¬â”€â”€  â”€â”¬â”€  â”‚
â”‚                      Registry URI               Repoëª…  Tag    â”‚
â”‚                                                                   â”‚
â”‚  2) Digestë¡œ ì°¸ì¡°:                                                â”‚
â”‚  123456789012.dkr.ecr.ap-northeast-2.amazonaws.com/my-app@sha256â”‚
â”‚  :a3ed95caeb02ffe68cdd9fd84406680ae93d633cb16422d00e8a7c8...     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”€â”€â”¬â”€â”€        â”‚
â”‚                      Registry URI               Repoëª…           â”‚
â”‚                                          @sha256:64ìë¦¬í•´ì‹œ      â”‚
â”‚                                                                   â”‚
â”‚  3) ECR Public í˜•ì‹:                                              â”‚
â”‚  public.ecr.aws/amazonlinux/amazonlinux:2023                     â”‚
â”‚  â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€  â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€  â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€  â”€â”¬â”€                    â”‚
â”‚  Publicë„ë©”ì¸   Alias/ê³„ì •  ì´ë¯¸ì§€ì´ë¦„   Tag                     â”‚
â”‚                                                                   â”‚
â”‚  URI êµ¬ì„±ìš”ì†Œ ì •ë¦¬:                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ êµ¬ì„±ìš”ì†Œ          â”‚ ì„¤ëª…                                â”‚      â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚  â”‚ Registry URI     â”‚ ê³„ì •ID.dkr.ecr.ë¦¬ì „.amazonaws.com  â”‚      â”‚
â”‚  â”‚ Repository Name  â”‚ namespace/ì´ë¦„ (ì˜ˆ: backend/api)    â”‚      â”‚
â”‚  â”‚ Tag              â”‚ :tag (ì˜ˆ: :v1.0.0, :latest)         â”‚      â”‚
â”‚  â”‚ Digest           â”‚ @sha256:64ìë¦¬í•´ì‹œ                  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 5. ECR íƒ„ìƒ ë°°ê²½ê³¼ ì—­ì‚¬

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ECR íƒ„ìƒ ë°°ê²½ê³¼ ì—­ì‚¬                             â”‚
â”‚                                                                   â”‚
â”‚  2013 â”€â”€ Docker ì˜¤í”ˆì†ŒìŠ¤ ê³µê°œ                                     â”‚
â”‚          ì»¨í…Œì´ë„ˆ ê¸°ìˆ  í­ë°œì  ì„±ì¥ ì‹œì‘                           â”‚
â”‚          â”‚                                                        â”‚
â”‚  2014 â”€â”€ Docker Hub í¼ë¸”ë¦­ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„±ì¥                       â”‚
â”‚          AWSì—ì„œ ECS (Elastic Container Service) ë°œí‘œ             â”‚
â”‚          â”‚                                                        â”‚
â”‚  2015.12.21 â”€â”€ AWS ECR (Elastic Container Registry) GA ì¶œì‹œ     â”‚
â”‚          ECSì™€ í•¨ê»˜ ì‚¬ìš©í•  í”„ë¼ì´ë¹— ë ˆì§€ìŠ¤íŠ¸ë¦¬ í•„ìš”ì„±             â”‚
â”‚          â”‚                                                        â”‚
â”‚  2017 â”€â”€ EKS (Elastic Kubernetes Service) ë°œí‘œ                   â”‚
â”‚          ECRì´ EKSì˜ ê¸°ë³¸ ì´ë¯¸ì§€ ë ˆì§€ìŠ¤íŠ¸ë¦¬ë¡œ í™œìš©               â”‚
â”‚          â”‚                                                        â”‚
â”‚  2020.12 â”€â”€ ECR Public ì¶œì‹œ                                      â”‚
â”‚          public.ecr.aws í†µí•´ í¼ë¸”ë¦­ ì´ë¯¸ì§€ í˜¸ìŠ¤íŒ… ê°€ëŠ¥           â”‚
â”‚          â”‚                                                        â”‚
â”‚  2021 â”€â”€ Pull Through Cache ê¸°ëŠ¥ ì¶”ê°€                            â”‚
â”‚          Docker Hub Rate Limiting ë¬¸ì œ í•´ê²°                       â”‚
â”‚          â”‚                                                        â”‚
â”‚  2022 â”€â”€ Enhanced Scanning (Amazon Inspector í†µí•©)               â”‚
â”‚          SOCI (Seekable OCI) Index ì§€ì› â†’ ë¹ ë¥¸ ì»¨í…Œì´ë„ˆ ì‹œì‘    â”‚
â”‚          â”‚                                                        â”‚
â”‚  2023 â”€â”€ Lifecycle Policy ê³ ë„í™”                                  â”‚
â”‚          Cross-Region / Cross-Account Replication ê°œì„             â”‚
â”‚          â”‚                                                        â”‚
â”‚  2024 â”€â”€ OCI Artifact ì§€ì› í™•ëŒ€ (Helm Chart, WASM ë“±)            â”‚
â”‚          Repository Creation Template ì¶”ê°€                        â”‚
â”‚                                                                   â”‚
â”‚  íƒ„ìƒ í•µì‹¬ ì´ìœ  (Docker Hubì˜ í•œê³„):                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ ë¬¸ì œ                    â”‚ ECRì˜ í•´ê²°                  â”‚        â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚
â”‚  â”‚ IAM í†µí•© ë¶ˆê°€           â”‚ AWS IAM ë„¤ì´í‹°ë¸Œ í†µí•©       â”‚        â”‚
â”‚  â”‚ Rate Limiting           â”‚ ë¬´ì œí•œ pull (ê°™ì€ ë¦¬ì „)     â”‚        â”‚
â”‚  â”‚ ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ ì§€ì—°      â”‚ ê°™ì€ ë¦¬ì „ = ìµœì†Œ ì§€ì—°       â”‚        â”‚
â”‚  â”‚ ë°ì´í„° ì „ì†¡ ë¹„ìš©        â”‚ ê°™ì€ ë¦¬ì „ ì „ì†¡ ë¬´ë£Œ         â”‚        â”‚
â”‚  â”‚ ê°ì‚¬ ë¡œê·¸ ì—†ìŒ          â”‚ CloudTrail ì™„ì „ í†µí•©        â”‚        â”‚
â”‚  â”‚ ì·¨ì•½ì  ìŠ¤ìº” ìœ ë£Œ        â”‚ Basic Scanning ë¬´ë£Œ         â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 6. ì¸ì¦ê³¼ ë³´ì•ˆ

## 6.1 Authorization Token - ECR ë¡œê·¸ì¸ ë°©ì‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ECR ì¸ì¦ íë¦„                                   â”‚
â”‚                                                                   â”‚
â”‚  ECRì€ Docker CLIì˜ í‘œì¤€ ì¸ì¦ì„ ì‚¬ìš©í•˜ë˜,                        â”‚
â”‚  AWS IAM ìê²© ì¦ëª…ì„ Docker í† í°ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë°©ì‹               â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â‘ IAM ìê²©ì¦ëª…     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚  ê°œë°œì   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚  AWS    â”‚                   â”‚
â”‚  â”‚  (CLI)    â”‚                      â”‚  STS    â”‚                   â”‚
â”‚  â”‚          â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚         â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â‘¡Authorization     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚       â”‚           Token (12ì‹œê°„)                                   â”‚
â”‚       â”‚                                                           â”‚
â”‚       â”‚ â‘¢ docker login                                            â”‚
â”‚       â”‚   Username: "AWS"                                         â”‚
â”‚       â”‚   Password: <Authorization Token>                         â”‚
â”‚       â–¼                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                     â”‚
â”‚  â”‚   ECR    â”‚ â† í† í° ê²€ì¦ í›„ push/pull í—ˆìš©                     â”‚
â”‚  â”‚ Registry â”‚                                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                     â”‚
â”‚                                                                   â”‚
â”‚  ë¡œê·¸ì¸ ëª…ë ¹ì–´:                                                   â”‚
â”‚  aws ecr get-login-password --region ap-northeast-2 \            â”‚
â”‚    | docker login --username AWS --password-stdin \               â”‚
â”‚      123456789012.dkr.ecr.ap-northeast-2.amazonaws.com           â”‚
â”‚                                                                   â”‚
â”‚  í•µì‹¬ í¬ì¸íŠ¸:                                                     â”‚
â”‚  â”œâ”€â”€ Usernameì€ í•­ìƒ "AWS" (ê³ ì •ê°’)                               â”‚
â”‚  â”œâ”€â”€ PasswordëŠ” get-login-passwordë¡œ ë°›ì€ í† í°                   â”‚
â”‚  â”œâ”€â”€ í† í° ìœ íš¨ê¸°ê°„: 12ì‹œê°„ (ë§Œë£Œë˜ë©´ ì¬ë°œê¸‰ í•„ìš”)                â”‚
â”‚  â””â”€â”€ CI/CDì—ì„œëŠ” ë§¤ íŒŒì´í”„ë¼ì¸ë§ˆë‹¤ ì¬ë¡œê·¸ì¸ ê¶Œì¥                 â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 6.2 Repository Policy - ë¦¬í¬ì§€í† ë¦¬ ìˆ˜ì¤€ ì ‘ê·¼ ì œì–´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Repository Policy                               â”‚
â”‚                                                                   â”‚
â”‚  IAM Policy (ì£¼ì²´ ê¸°ë°˜)    vs    Repository Policy (ë¦¬ì†ŒìŠ¤ ê¸°ë°˜) â”‚
â”‚  â”œâ”€â”€ "ì´ ì‚¬ìš©ìê°€ ë¬´ì—‡ì„    â”‚    "ì´ ë ˆí¬ì§€í† ë¦¬ì— ëˆ„ê°€           â”‚
â”‚  â”‚    í•  ìˆ˜ ìˆëŠ”ê°€?"        â”‚     ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ê°€?"             â”‚
â”‚  â””â”€â”€ IAM ì‚¬ìš©ì/ì—­í• ì— ë¶€ì°© â”‚    ECR Repositoryì— ë¶€ì°©           â”‚
â”‚                                                                   â”‚
â”‚  ëŒ€í‘œì  ì‚¬ìš© ì‚¬ë¡€:                                                â”‚
â”‚  â”œâ”€â”€ Cross-Account Pull: ë‹¤ë¥¸ ê³„ì •ì—ì„œ ì´ë¯¸ì§€ pull í—ˆìš©          â”‚
â”‚  â”œâ”€â”€ íŠ¹ì • IAM Roleë§Œ push ê°€ëŠ¥í•˜ë„ë¡ ì œí•œ                        â”‚
â”‚  â””â”€â”€ Lambda Execution Roleì— pull ê¶Œí•œ ë¶€ì—¬                      â”‚
â”‚                                                                   â”‚
â”‚  Cross-Account ì˜ˆì‹œ (ê³„ì • Bì—ì„œ pull í—ˆìš©):                      â”‚
â”‚  {                                                                â”‚
â”‚    "Version": "2012-10-17",                                       â”‚
â”‚    "Statement": [{                                                â”‚
â”‚      "Sid": "AllowCrossAccountPull",                              â”‚
â”‚      "Effect": "Allow",                                           â”‚
â”‚      "Principal": {                                               â”‚
â”‚        "AWS": "arn:aws:iam::ACCOUNT_B_ID:root"                   â”‚
â”‚      },                                                           â”‚
â”‚      "Action": [                                                  â”‚
â”‚        "ecr:GetDownloadUrlForLayer",                              â”‚
â”‚        "ecr:BatchGetImage",                                       â”‚
â”‚        "ecr:BatchCheckLayerAvailability"                          â”‚
â”‚      ]                                                            â”‚
â”‚    }]                                                             â”‚
â”‚  }                                                                â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 6.3 Immutable Tagsì™€ ì•”í˜¸í™”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Immutable Tags + ì•”í˜¸í™”                            â”‚
â”‚                                                                   â”‚
â”‚  Immutable Tags (ë¶ˆë³€ íƒœê·¸):                                     â”‚
â”‚  â”œâ”€â”€ ì„¤ì •í•˜ë©´ í•œë²ˆ pushëœ íƒœê·¸ëŠ” ë®ì–´ì“°ê¸° ë¶ˆê°€                   â”‚
â”‚  â”œâ”€â”€ v1.0.0ìœ¼ë¡œ push â†’ ë‹¤ì‹œ v1.0.0ìœ¼ë¡œ push ì‹œ ERROR            â”‚
â”‚  â”œâ”€â”€ "ì´ íƒœê·¸ = í•­ìƒ ì´ ì´ë¯¸ì§€" ë³´ì¥                             â”‚
â”‚  â””â”€â”€ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ê°•ë ¥ ê¶Œì¥                                 â”‚
â”‚                                                                   â”‚
â”‚  ì„¤ì •:                                                            â”‚
â”‚  aws ecr put-image-tag-mutability \                               â”‚
â”‚    --repository-name my-app \                                     â”‚
â”‚    --image-tag-mutability IMMUTABLE                               â”‚
â”‚                                                                   â”‚
â”‚  ì•”í˜¸í™”:                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ë°©ì‹                â”‚ ì„¤ëª…                              â”‚      â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚  â”‚ AES-256 (ê¸°ë³¸)     â”‚ AWS ê´€ë¦¬í˜• í‚¤, ì¶”ê°€ ë¹„ìš© ì—†ìŒ     â”‚      â”‚
â”‚  â”‚ AWS KMS (ì„ íƒ)     â”‚ ê³ ê° ê´€ë¦¬í˜• í‚¤(CMK), ì„¸ë°€í•œ ì œì–´  â”‚      â”‚
â”‚  â”‚                    â”‚ KMS ë¹„ìš© ë³„ë„ ë°œìƒ                 â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                   â”‚
â”‚  ëª¨ë“  ì´ë¯¸ì§€ëŠ” ì €ì¥ ì‹œ ìë™ ì•”í˜¸í™” (at-rest encryption)          â”‚
â”‚  ì „ì†¡ ì¤‘ ì•”í˜¸í™”: HTTPS ê°•ì œ (in-transit encryption)              â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 7. Lifecycle Policy - ìˆ˜ëª… ì£¼ê¸° ì •ì±…

## 7.1 ì™œ í•„ìš”í•œê°€? - ì´ë¯¸ì§€ê°€ ê³„ì† ìŒ“ì¸ë‹¤

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Lifecycle Policyê°€ í•„ìš”í•œ ì´ìœ                        â”‚
â”‚                                                                   â”‚
â”‚  CI/CD íŒŒì´í”„ë¼ì¸ì´ ë§¤ì¼ ì´ë¯¸ì§€ë¥¼ pushí•˜ë©´:                      â”‚
â”‚                                                                   â”‚
â”‚  1ì›”: 30ê°œ ì´ë¯¸ì§€ (ì•½ 3GB)                                       â”‚
â”‚  2ì›”: 60ê°œ ì´ë¯¸ì§€ (ì•½ 6GB)                                       â”‚
â”‚  3ì›”: 90ê°œ ì´ë¯¸ì§€ (ì•½ 9GB)                                       â”‚
â”‚  ...                                                              â”‚
â”‚  12ì›”: 365ê°œ ì´ë¯¸ì§€ (ì•½ 36GB) â†’ ë§¤ë‹¬ $3.6 ì €ì¥ ë¹„ìš©             â”‚
â”‚                                                                   â”‚
â”‚  ì‹¤ì œë¡œ ì‚¬ìš©í•˜ëŠ” ì´ë¯¸ì§€: ìµœê·¼ 5ê°œ ì •ë„                           â”‚
â”‚  ë‚˜ë¨¸ì§€ 360ê°œ: ë¹„ìš©ë§Œ ë°œìƒí•˜ëŠ” ë””ì§€í„¸ ì“°ë ˆê¸°!                    â”‚
â”‚                                                                   â”‚
â”‚  Lifecycle Policy = "ê·œì¹™ì— ë”°ë¼ ì˜¤ë˜ëœ ì´ë¯¸ì§€ ìë™ ì‚­ì œ"        â”‚
â”‚                                                                   â”‚
â”‚  ë¹„ìœ : ëƒ‰ì¥ê³  ì •ë¦¬                                                â”‚
â”‚  â”œâ”€â”€ "ìœ í†µê¸°í•œ ì§€ë‚œ ê²ƒì€ ë²„ë¦°ë‹¤" = ë‚˜ì´ ê¸°ë°˜ ê·œì¹™                â”‚
â”‚  â”œâ”€â”€ "ê°™ì€ ì¢…ë¥˜ëŠ” 3ê°œê¹Œì§€ë§Œ" = ê°œìˆ˜ ê¸°ë°˜ ê·œì¹™                    â”‚
â”‚  â””â”€â”€ "íƒœê·¸ ì—†ëŠ” ê²ƒì€ ë°”ë¡œ ë²„ë¦°ë‹¤" = untagged ì •ë¦¬ ê·œì¹™           â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 7.2 ê·œì¹™ ìœ í˜•ê³¼ ìš°ì„ ìˆœìœ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Lifecycle Policy ê·œì¹™ ìœ í˜•                         â”‚
â”‚                                                                   â”‚
â”‚  1) ì´ë¯¸ì§€ ê°œìˆ˜ ê¸°ë°˜ (countNumber):                               â”‚
â”‚     "ìµœê·¼ Nê°œë§Œ ìœ ì§€, ë‚˜ë¨¸ì§€ ì‚­ì œ"                               â”‚
â”‚     ì˜ˆ: íƒœê·¸ëœ ì´ë¯¸ì§€ ìµœê·¼ 10ê°œë§Œ ìœ ì§€                            â”‚
â”‚                                                                   â”‚
â”‚  2) ì´ë¯¸ì§€ ë‚˜ì´ ê¸°ë°˜ (sinceImagePushed):                         â”‚
â”‚     "Nì¼ ì´ìƒ ì§€ë‚œ ì´ë¯¸ì§€ ì‚­ì œ"                                   â”‚
â”‚     ì˜ˆ: 30ì¼ ì´ìƒ ëœ ì´ë¯¸ì§€ ì‚­ì œ                                  â”‚
â”‚                                                                   â”‚
â”‚  3) Untagged ì´ë¯¸ì§€ ì •ë¦¬:                                        â”‚
â”‚     "íƒœê·¸ ì—†ëŠ” ì´ë¯¸ì§€ ì‚­ì œ"                                       â”‚
â”‚     ì˜ˆ: untagged ì´ë¯¸ì§€ 1ì¼ í›„ ì‚­ì œ                               â”‚
â”‚                                                                   â”‚
â”‚  ìš°ì„ ìˆœìœ„ (rulePriority):                                        â”‚
â”‚  â”œâ”€â”€ ìˆ«ìê°€ ë‚®ì„ìˆ˜ë¡ ë¨¼ì € í‰ê°€                                   â”‚
â”‚  â”œâ”€â”€ í•œ ì´ë¯¸ì§€ì— ì—¬ëŸ¬ ê·œì¹™ í•´ë‹¹ ì‹œ â†’ ë‚®ì€ ìš°ì„ ìˆœìœ„ ê·œì¹™ ì ìš©    â”‚
â”‚  â””â”€â”€ ê°™ì€ ì´ë¯¸ì§€ê°€ "ìœ ì§€"ì™€ "ì‚­ì œ" ë™ì‹œ í•´ë‹¹ ì‹œ â†’ ìœ ì§€ ìš°ì„      â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 7.3 Lifecycle Policy JSON ì˜ˆì‹œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ì‹¤ì „ Lifecycle Policy ì˜ˆì‹œ                           â”‚
â”‚                                                                   â”‚
â”‚  {                                                                â”‚
â”‚    "rules": [                                                     â”‚
â”‚      {                                                            â”‚
â”‚        "rulePriority": 1,                                         â”‚
â”‚        "description": "Untagged ì´ë¯¸ì§€ 1ì¼ í›„ ì‚­ì œ",             â”‚
â”‚        "selection": {                                             â”‚
â”‚          "tagStatus": "untagged",                                 â”‚
â”‚          "countType": "sinceImagePushed",                         â”‚
â”‚          "countUnit": "days",                                     â”‚
â”‚          "countNumber": 1                                         â”‚
â”‚        },                                                         â”‚
â”‚        "action": { "type": "expire" }                             â”‚
â”‚      },                                                           â”‚
â”‚      {                                                            â”‚
â”‚        "rulePriority": 2,                                         â”‚
â”‚        "description": "dev- íƒœê·¸ ì´ë¯¸ì§€ ìµœê·¼ 5ê°œë§Œ ìœ ì§€",        â”‚
â”‚        "selection": {                                             â”‚
â”‚          "tagStatus": "tagged",                                   â”‚
â”‚          "tagPatternList": ["dev-*"],                              â”‚
â”‚          "countType": "imageCountMoreThan",                       â”‚
â”‚          "countNumber": 5                                         â”‚
â”‚        },                                                         â”‚
â”‚        "action": { "type": "expire" }                             â”‚
â”‚      },                                                           â”‚
â”‚      {                                                            â”‚
â”‚        "rulePriority": 3,                                         â”‚
â”‚        "description": "ëª¨ë“  íƒœê·¸ ì´ë¯¸ì§€ 90ì¼ í›„ ì‚­ì œ",           â”‚
â”‚        "selection": {                                             â”‚
â”‚          "tagStatus": "any",                                      â”‚
â”‚          "countType": "sinceImagePushed",                         â”‚
â”‚          "countUnit": "days",                                     â”‚
â”‚          "countNumber": 90                                        â”‚
â”‚        },                                                         â”‚
â”‚        "action": { "type": "expire" }                             â”‚
â”‚      }                                                            â”‚
â”‚    ]                                                              â”‚
â”‚  }                                                                â”‚
â”‚                                                                   â”‚
â”‚  ì ìš© ë°©ë²•:                                                       â”‚
â”‚  aws ecr put-lifecycle-policy \                                   â”‚
â”‚    --repository-name my-app \                                     â”‚
â”‚    --lifecycle-policy-text file://lifecycle-policy.json           â”‚
â”‚                                                                   â”‚
â”‚  í…ŒìŠ¤íŠ¸ (ì‚­ì œ ì‹œë®¬ë ˆì´ì…˜):                                       â”‚
â”‚  aws ecr get-lifecycle-policy-preview \                           â”‚
â”‚    --repository-name my-app                                       â”‚
â”‚  â†’ ì‹¤ì œ ì‚­ì œ ì „ì— ì–´ë–¤ ì´ë¯¸ì§€ê°€ ì‚­ì œë ì§€ ë¯¸ë¦¬ í™•ì¸!             â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 8. Image Scanning - ì·¨ì•½ì  ê²€ì‚¬

## 8.1 Basic Scanning vs Enhanced Scanning

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Image Scanning ë¹„êµ                            â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ í•­ëª©               â”‚ Basic Scanning    â”‚ Enhanced Scanning â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ ì—”ì§„               â”‚ Clair (ì˜¤í”ˆì†ŒìŠ¤)  â”‚ Amazon Inspector  â”‚    â”‚
â”‚  â”‚ ìŠ¤ìº” ëŒ€ìƒ          â”‚ OS íŒ¨í‚¤ì§€ë§Œ       â”‚ OS + ì–¸ì–´ íŒ¨í‚¤ì§€  â”‚    â”‚
â”‚  â”‚                    â”‚                   â”‚ (npm, pip, maven) â”‚    â”‚
â”‚  â”‚ ìŠ¤ìº” ì‹œì           â”‚ Push ì‹œ 1íšŒ       â”‚ Push ì‹œ + ì§€ì†ì   â”‚    â”‚
â”‚  â”‚ ìƒˆ CVE ë°œê²¬ ì‹œ     â”‚ ìˆ˜ë™ ì¬ìŠ¤ìº” í•„ìš”  â”‚ ìë™ ì¬ìŠ¤ìº”       â”‚    â”‚
â”‚  â”‚ ë¹„ìš©               â”‚ ë¬´ë£Œ              â”‚ Inspector ìš”ê¸ˆ    â”‚    â”‚
â”‚  â”‚ EventBridge ì—°ë™   â”‚ Yes               â”‚ Yes               â”‚    â”‚
â”‚  â”‚ ê²°ê³¼ í˜•ì‹          â”‚ CVE ID + ì‹¬ê°ë„   â”‚ CVE + CVSS ì ìˆ˜  â”‚    â”‚
â”‚  â”‚                    â”‚                   â”‚ + ì˜í–¥ íŒ¨í‚¤ì§€     â”‚    â”‚
â”‚  â”‚                    â”‚                   â”‚ + ìˆ˜ì • ë²„ì „       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                   â”‚
â”‚  ì‹¬ê°ë„ ë ˆë²¨:                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ CRITICAL â”‚ ì¦‰ì‹œ ì¡°ì¹˜! ì›ê²© ì½”ë“œ ì‹¤í–‰ ë“±            â”‚           â”‚
â”‚  â”‚ HIGH     â”‚ ê°€ëŠ¥í•œ ë¹¨ë¦¬ íŒ¨ì¹˜ ì ìš©                   â”‚           â”‚
â”‚  â”‚ MEDIUM   â”‚ ì •ê¸° íŒ¨ì¹˜ ì‚¬ì´í´ì— í¬í•¨                 â”‚           â”‚
â”‚  â”‚ LOW      â”‚ ë‹¤ìŒ ë©”ì´ì € ì—…ë°ì´íŠ¸ ì‹œ ì²˜ë¦¬            â”‚           â”‚
â”‚  â”‚ INFO     â”‚ ì°¸ê³  ì‚¬í•­                               â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 8.2 ìŠ¤ìºë‹ ì„¤ì •ê³¼ í™œìš©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Image Scanning ì‹¤ì „ í™œìš©                         â”‚
â”‚                                                                   â”‚
â”‚  Basic Scanning í™œì„±í™” (Repository ë‹¨ìœ„):                        â”‚
â”‚  aws ecr put-image-scanning-configuration \                      â”‚
â”‚    --repository-name my-app \                                     â”‚
â”‚    --image-scanning-configuration scanOnPush=true                â”‚
â”‚                                                                   â”‚
â”‚  Enhanced Scanning í™œì„±í™” (Registry ë‹¨ìœ„):                       â”‚
â”‚  aws ecr put-registry-scanning-configuration \                   â”‚
â”‚    --scan-type ENHANCED \                                         â”‚
â”‚    --rules '[{                                                    â”‚
â”‚      "repositoryFilters": [{"filter":"*","filterType":"WILDCARD"}â”‚
â”‚      ],                                                           â”‚
â”‚      "scanFrequency": "CONTINUOUS_SCAN"                          â”‚
â”‚    }]'                                                            â”‚
â”‚                                                                   â”‚
â”‚  CI/CDì—ì„œ ìŠ¤ìº” ê²°ê³¼ í™•ì¸ (ê²Œì´íŠ¸ ì—­í• ):                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Build â”‚ â†’  â”‚ Push â”‚ â†’  â”‚ Scan     â”‚ â†’  â”‚ ê²°ê³¼í™•ì¸  â”‚          â”‚
â”‚  â”‚      â”‚    â”‚ ECR  â”‚    â”‚ (ìë™)   â”‚    â”‚ CRITICAL? â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜          â”‚
â”‚                                            Yes â”‚  No â”‚           â”‚
â”‚                                            â–¼       â–¼            â”‚
â”‚                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚                                      â”‚ ë°°í¬   â”‚ â”‚ ë°°í¬   â”‚     â”‚
â”‚                                      â”‚ ì°¨ë‹¨!  â”‚ â”‚ ì§„í–‰   â”‚     â”‚
â”‚                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                   â”‚
â”‚  EventBridge ê·œì¹™ìœ¼ë¡œ CRITICAL ë°œê²¬ ì‹œ Slack ì•Œë¦¼ ê°€ëŠ¥           â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 9. Pull Through Cache - ì™¸ë¶€ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ìºì‹±

## 9.1 Pull Through Cacheë€?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Pull Through Cache ê°œë…                            â”‚
â”‚                                                                   â”‚
â”‚  ë¬¸ì œ: Docker Hub Rate Limitingìœ¼ë¡œ ì´ë¯¸ì§€ pull ì‹¤íŒ¨!            â”‚
â”‚  â”œâ”€â”€ ìµëª…: 100 pulls / 6ì‹œê°„                                     â”‚
â”‚  â”œâ”€â”€ ì¸ì¦: 200 pulls / 6ì‹œê°„                                     â”‚
â”‚  â””â”€â”€ EKS í´ëŸ¬ìŠ¤í„° ë…¸ë“œê°€ ë§ìœ¼ë©´ ìˆœì‹ê°„ì— í•œë„ ì´ˆê³¼              â”‚
â”‚                                                                   â”‚
â”‚  í•´ê²°: Pull Through Cache                                        â”‚
â”‚  â”œâ”€â”€ ECRì´ ì™¸ë¶€ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì˜ "í”„ë¡ì‹œ/ìºì‹œ" ì—­í•                   â”‚
â”‚  â”œâ”€â”€ ì²« pull: ECR â†’ ì™¸ë¶€ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì—ì„œ ê°€ì ¸ì˜´ â†’ ìºì‹œ ì €ì¥      â”‚
â”‚  â”œâ”€â”€ ì´í›„ pull: ECR ìºì‹œì—ì„œ ì§ì ‘ ì œê³µ (ì™¸ë¶€ ìš”ì²­ ì—†ìŒ!)        â”‚
â”‚  â””â”€â”€ 24ì‹œê°„ë§ˆë‹¤ ìë™ ë™ê¸°í™” (ìµœì‹  ìƒíƒœ ìœ ì§€)                     â”‚
â”‚                                                                   â”‚
â”‚  ì§€ì› ì™¸ë¶€ ë ˆì§€ìŠ¤íŠ¸ë¦¬:                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ ë ˆì§€ìŠ¤íŠ¸ë¦¬               â”‚ ECR ìºì‹œ prefix           â”‚         â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚  â”‚ Docker Hub              â”‚ docker-hub/               â”‚         â”‚
â”‚  â”‚ ECR Public Gallery      â”‚ ecr-public/               â”‚         â”‚
â”‚  â”‚ Quay.io                 â”‚ quay/                     â”‚         â”‚
â”‚  â”‚ GitHub Container (GHCR) â”‚ ghcr/                     â”‚         â”‚
â”‚  â”‚ Kubernetes Registry     â”‚ k8s/                      â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 9.2 Pull Through Cache ë™ì‘ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             Pull Through Cache ë™ì‘ íë¦„                         â”‚
â”‚                                                                   â”‚
â”‚  ì„¤ì • ì˜ˆì‹œ (Docker Hub ìºì‹œ):                                    â”‚
â”‚  aws ecr create-pull-through-cache-rule \                        â”‚
â”‚    --ecr-repository-prefix docker-hub \                          â”‚
â”‚    --upstream-registry-url registry-1.docker.io \                â”‚
â”‚    --credential-arn arn:aws:secretsmanager:...:dockerhub-creds   â”‚
â”‚                                                                   â”‚
â”‚  ì‚¬ìš© ë°©ë²• (URIë§Œ ë³€ê²½!):                                        â”‚
â”‚  ê¸°ì¡´: docker pull nginx:latest                                   â”‚
â”‚  ë³€ê²½: docker pull 123456789012.dkr.ecr.ap-northeast-2          â”‚
â”‚          .amazonaws.com/docker-hub/library/nginx:latest          â”‚
â”‚                                                                   â”‚
â”‚  ë™ì‘ íë¦„:                                                       â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â‘  pull ìš”ì²­     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚  EKS     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’  â”‚   ECR    â”‚                     â”‚
â”‚  â”‚  Node    â”‚                   â”‚  (ìºì‹œ)  â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                     â”‚
â”‚       â–²                               â”‚                           â”‚
â”‚       â”‚                        ìºì‹œì— ìˆë‚˜?                       â”‚
â”‚       â”‚                       â”Œâ”€â”€â”€â”´â”€â”€â”€â”                          â”‚
â”‚       â”‚                      YES     NO                           â”‚
â”‚       â”‚                       â”‚       â”‚                           â”‚
â”‚       â”‚                       â”‚  â‘¡ì™¸ë¶€ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì—ì„œ            â”‚
â”‚       â”‚                       â”‚    ì´ë¯¸ì§€ ê°€ì ¸ì˜´                  â”‚
â”‚       â”‚                       â”‚       â”‚                           â”‚
â”‚       â”‚                       â”‚       â–¼                           â”‚
â”‚       â”‚                       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚       â”‚                       â”‚  â”‚  Docker Hub   â”‚                â”‚
â”‚       â”‚                       â”‚  â”‚  (ì›ë³¸)       â”‚                â”‚
â”‚       â”‚                       â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚       â”‚                       â”‚         â”‚                         â”‚
â”‚       â”‚                       â”‚  â‘¢ECRì— ìºì‹œ ì €ì¥                â”‚
â”‚       â”‚                       â”‚         â”‚                         â”‚
â”‚       â”‚                       â–¼         â–¼                         â”‚
â”‚       â”‚                  â‘£ ì´ë¯¸ì§€ ë°˜í™˜                            â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                   â”‚
â”‚  ì¥ì :                                                            â”‚
â”‚  â”œâ”€â”€ Docker Hub Rate Limit íšŒí”¼                                   â”‚
â”‚  â”œâ”€â”€ ê°™ì€ ë¦¬ì „ = ë¹ ë¥¸ ì „ì†¡ + ì „ì†¡ë¹„ ë¬´ë£Œ                         â”‚
â”‚  â”œâ”€â”€ Lifecycle Policy ì ìš© ê°€ëŠ¥ (ìºì‹œ ì •ë¦¬)                      â”‚
â”‚  â””â”€â”€ Image Scanning ì ìš© ê°€ëŠ¥ (ìºì‹œëœ ì´ë¯¸ì§€ë„ ìŠ¤ìº”)             â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 10. AWS ì„œë¹„ìŠ¤ í†µí•©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ECRê³¼ AWS ì„œë¹„ìŠ¤ í†µí•©                            â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚                    ECR (ì´ë¯¸ì§€ ì €ì¥ì†Œ)                â”‚        â”‚
â”‚  â”‚                                                       â”‚        â”‚
â”‚  â”‚   my-app:v1.0    my-api:v2.0    my-worker:v3.0      â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚             â”‚          â”‚              â”‚                           â”‚
â”‚        â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”                    â”‚
â”‚        â”‚  ECS   â”‚ â”‚  EKS   â”‚   â”‚  Lambda  â”‚                     â”‚
â”‚        â”‚Fargate â”‚ â”‚  Pods  â”‚   â”‚Container â”‚                      â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                                                                   â”‚
â”‚  1) ECS (Elastic Container Service):                             â”‚
â”‚     â”œâ”€â”€ Task Definitionì—ì„œ ECR ì´ë¯¸ì§€ URI ì§€ì •                  â”‚
â”‚     â”œâ”€â”€ Task Execution Roleì— ecr:GetAuthorizationToken í•„ìš”     â”‚
â”‚     â”œâ”€â”€ ecr:BatchGetImage, ecr:GetDownloadUrlForLayer í•„ìš”       â”‚
â”‚     â””â”€â”€ ê°™ì€ ë¦¬ì „ ECR â†’ ì „ì†¡ë¹„ ë¬´ë£Œ, ìµœì†Œ ì§€ì—°                  â”‚
â”‚                                                                   â”‚
â”‚  2) EKS (Elastic Kubernetes Service):                            â”‚
â”‚     â”œâ”€â”€ Pod specì˜ image í•„ë“œì— ECR URI ì§€ì •                     â”‚
â”‚     â”œâ”€â”€ Nodeì˜ Instance Roleì— ECR ì½ê¸° ê¶Œí•œ í•„ìš”                â”‚
â”‚     â”œâ”€â”€ IRSA (IAM Roles for Service Accounts)ë¡œ ì„¸ë°€í•œ ì œì–´      â”‚
â”‚     â””â”€â”€ imagePullSecrets ì—†ì´ ECR ì‚¬ìš© ê°€ëŠ¥ (IAM ê¸°ë°˜)          â”‚
â”‚                                                                   â”‚
â”‚  3) Lambda (Container Image):                                    â”‚
â”‚     â”œâ”€â”€ âš ï¸ ECRì— ì €ì¥ëœ ì´ë¯¸ì§€ë§Œ ì§€ì›! (Docker Hub ì§ì ‘ ë¶ˆê°€)   â”‚
â”‚     â”œâ”€â”€ ìµœëŒ€ ì´ë¯¸ì§€ í¬ê¸°: 10GB                                    â”‚
â”‚     â”œâ”€â”€ Lambda Runtime Interface Client í•„ìš”                     â”‚
â”‚     â””â”€â”€ ECR ì´ë¯¸ì§€ URIë¡œ Lambda Function ìƒì„±                    â”‚
â”‚                                                                   â”‚
â”‚  4) AWS Fargate:                                                  â”‚
â”‚     â”œâ”€â”€ ECS Fargate + EKS Fargate ëª¨ë‘ ECR ë„¤ì´í‹°ë¸Œ ì§€ì›         â”‚
â”‚     â”œâ”€â”€ SOCI Indexë¡œ Lazy Loading ê°€ëŠ¥ (ë¹ ë¥¸ ì‹œì‘)               â”‚
â”‚     â””â”€â”€ VPC Endpoint ì‚¬ìš© ì‹œ í”„ë¼ì´ë¹— ë„¤íŠ¸ì›Œí¬ë¡œ pull            â”‚
â”‚                                                                   â”‚
â”‚  5) ê¸°íƒ€ ì„œë¹„ìŠ¤:                                                  â”‚
â”‚     â”œâ”€â”€ CodeBuild: ë¹Œë“œ í™˜ê²½ ì´ë¯¸ì§€ë¡œ ECR ì‚¬ìš©                   â”‚
â”‚     â”œâ”€â”€ App Runner: ECR ì´ë¯¸ì§€ë¡œ ì›¹ ì„œë¹„ìŠ¤ ìë™ ë°°í¬             â”‚
â”‚     â”œâ”€â”€ Batch: ë°°ì¹˜ ì‘ì—… ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ì†ŒìŠ¤                    â”‚
â”‚     â””â”€â”€ SageMaker: ML í•™ìŠµ/ì¶”ë¡  ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€                  â”‚
â”‚                                                                   â”‚
â”‚  VPC Endpoint (í”„ë¼ì´ë¹— ì ‘ê·¼):                                    â”‚
â”‚  â”œâ”€â”€ com.amazonaws.REGION.ecr.api (ECR API)                      â”‚
â”‚  â”œâ”€â”€ com.amazonaws.REGION.ecr.dkr (Docker Registry API)          â”‚
â”‚  â””â”€â”€ com.amazonaws.REGION.s3     (ì´ë¯¸ì§€ ë ˆì´ì–´ ì €ì¥ì†Œ)          â”‚
â”‚  â†’ 3ê°œ ëª¨ë‘ ì„¤ì •í•´ì•¼ í”„ë¼ì´ë¹— ì„œë¸Œë„·ì—ì„œ ECR ì‚¬ìš© ê°€ëŠ¥!         â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 11. íƒœê·¸ ì „ëµê³¼ CI/CD

## 11.1 ì´ë¯¸ì§€ íƒœê·¸ ì „ëµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ì´ë¯¸ì§€ íƒœê·¸ ì „ëµ                                 â”‚
â”‚                                                                   â”‚
â”‚  1) Semantic Versioning (ê¶Œì¥):                                   â”‚
â”‚     â”œâ”€â”€ v1.0.0, v1.1.0, v2.0.0                                   â”‚
â”‚     â”œâ”€â”€ ì˜ë¯¸: MAJOR.MINOR.PATCH                                   â”‚
â”‚     â””â”€â”€ Immutable Tagsì™€ í•¨ê»˜ ì‚¬ìš© â†’ ë²„ì „ ì¶”ì  ì™„ë²½             â”‚
â”‚                                                                   â”‚
â”‚  2) Git SHA:                                                      â”‚
â”‚     â”œâ”€â”€ abc1234, def5678                                          â”‚
â”‚     â”œâ”€â”€ ì»¤ë°‹ê³¼ 1:1 ë§¤í•‘ â†’ "ì–´ë–¤ ì½”ë“œë¡œ ë¹Œë“œí–ˆëŠ”ì§€" ì¶”ì           â”‚
â”‚     â””â”€â”€ ì‚¬ëŒì´ ì½ê¸° ì–´ë ¤ì›€ â†’ ë‹¨ë… ì‚¬ìš©ë³´ë‹¤ ë³´ì¡°ìš©                â”‚
â”‚                                                                   â”‚
â”‚  3) ì´ì¤‘ íƒœê·¸ (Best Practice):                                   â”‚
â”‚     docker tag my-app:latest my-app:v1.2.3                       â”‚
â”‚     docker tag my-app:latest my-app:abc1234                      â”‚
â”‚     â†’ í•˜ë‚˜ì˜ ì´ë¯¸ì§€ì— ë²„ì „ íƒœê·¸ + Git SHA íƒœê·¸ ë™ì‹œ ë¶€ì—¬         â”‚
â”‚                                                                   â”‚
â”‚  4) í™˜ê²½ë³„ íƒœê·¸:                                                  â”‚
â”‚     â”œâ”€â”€ dev-abc1234  â†’ ê°œë°œ í™˜ê²½                                  â”‚
â”‚     â”œâ”€â”€ staging-v1.2.3 â†’ ìŠ¤í…Œì´ì§• í™˜ê²½                            â”‚
â”‚     â””â”€â”€ v1.2.3 â†’ í”„ë¡œë•ì…˜ í™˜ê²½                                   â”‚
â”‚                                                                   â”‚
â”‚  âš ï¸ latest íƒœê·¸ ì£¼ì˜:                                            â”‚
â”‚  â”œâ”€â”€ ê°€ë³€ì´ë¯€ë¡œ í”„ë¡œë•ì…˜ì—ì„œ ì‚¬ìš© ê¸ˆì§€!                          â”‚
â”‚  â”œâ”€â”€ "latest = ìµœì‹ " ë³´ì¥ ì•ˆ ë¨ (ë§ˆì§€ë§‰ pushëœ ê²ƒì¼ ë¿)         â”‚
â”‚  â””â”€â”€ Kubernetesì—ì„œ imagePullPolicy: Always ê°•ì œë¨               â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 11.2 GitHub Actions CI/CD ì˜ˆì‹œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           GitHub Actions + ECR CI/CD íŒŒì´í”„ë¼ì¸                   â”‚
â”‚                                                                   â”‚
â”‚  # .github/workflows/deploy.yml                                  â”‚
â”‚  name: Build and Push to ECR                                     â”‚
â”‚  on:                                                              â”‚
â”‚    push:                                                          â”‚
â”‚      branches: [main]                                             â”‚
â”‚                                                                   â”‚
â”‚  permissions:                                                     â”‚
â”‚    id-token: write    # OIDC í† í° ë°œê¸‰ìš©                         â”‚
â”‚    contents: read                                                 â”‚
â”‚                                                                   â”‚
â”‚  jobs:                                                            â”‚
â”‚    build:                                                         â”‚
â”‚      runs-on: ubuntu-latest                                       â”‚
â”‚      steps:                                                       â”‚
â”‚        - uses: actions/checkout@v4                                â”‚
â”‚                                                                   â”‚
â”‚        # OIDCë¡œ AWS ì¸ì¦ (Access Key ë¶ˆí•„ìš”!)                    â”‚
â”‚        - uses: aws-actions/configure-aws-credentials@v4          â”‚
â”‚          with:                                                    â”‚
â”‚            role-to-assume: arn:aws:iam::123456789012:role/github  â”‚
â”‚            aws-region: ap-northeast-2                             â”‚
â”‚                                                                   â”‚
â”‚        # ECR ë¡œê·¸ì¸                                               â”‚
â”‚        - uses: aws-actions/amazon-ecr-login@v2                   â”‚
â”‚          id: ecr-login                                            â”‚
â”‚                                                                   â”‚
â”‚        # ì´ë¯¸ì§€ ë¹Œë“œ + Push                                      â”‚
â”‚        - name: Build and Push                                     â”‚
â”‚          env:                                                     â”‚
â”‚            REGISTRY: ${{ steps.ecr-login.outputs.registry }}      â”‚
â”‚            REPO: my-app                                           â”‚
â”‚            TAG: ${{ github.sha }}                                 â”‚
â”‚          run: |                                                    â”‚
â”‚            docker build -t $REGISTRY/$REPO:$TAG .                â”‚
â”‚            docker tag $REGISTRY/$REPO:$TAG $REGISTRY/$REPO:latestâ”‚
â”‚            docker push $REGISTRY/$REPO:$TAG                      â”‚
â”‚            docker push $REGISTRY/$REPO:latest                    â”‚
â”‚                                                                   â”‚
â”‚  OIDC ì¸ì¦ì˜ ì¥ì :                                                â”‚
â”‚  â”œâ”€â”€ Access Key / Secret Key ë¶ˆí•„ìš” (ìœ ì¶œ ìœ„í—˜ ì œê±°)             â”‚
â”‚  â”œâ”€â”€ GitHub â†’ AWS STS â†’ ì„ì‹œ ìê²© ì¦ëª… ë°œê¸‰                     â”‚
â”‚  â”œâ”€â”€ ë¦¬í¬ì§€í† ë¦¬ë³„ ì„¸ë°€í•œ ê¶Œí•œ ì œì–´ ê°€ëŠ¥                          â”‚
â”‚  â””â”€â”€ ìê²© ì¦ëª… ë¡œí…Œì´ì…˜ ìë™ (ì„ì‹œ í† í°ì´ë¯€ë¡œ)                   â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 12. ë¹„ìš©, ë ˆì§€ìŠ¤íŠ¸ë¦¬ ë¹„êµ, ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

## 12.1 ECR ë¹„ìš© êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ECR ë¹„ìš© êµ¬ì¡°                                 â”‚
â”‚                                                                   â”‚
â”‚  1) ì €ì¥ ë¹„ìš©:                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ í•­ëª©                  â”‚ ë¹„ìš©                           â”‚       â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚
â”‚  â”‚ Private ECR          â”‚ $0.10 / GB / ì›”               â”‚       â”‚
â”‚  â”‚ Public ECR           â”‚ 50GB ë¬´ë£Œ, ì´ˆê³¼ ì‹œ $0.10/GB   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                   â”‚
â”‚  2) ë°ì´í„° ì „ì†¡ ë¹„ìš©:                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ ì „ì†¡ ê²½ë¡œ                      â”‚ ë¹„ìš©                â”‚          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚  â”‚ ê°™ì€ ë¦¬ì „ AWS ì„œë¹„ìŠ¤ â†’ ECR   â”‚ ë¬´ë£Œ!              â”‚          â”‚
â”‚  â”‚ ë‹¤ë¥¸ ë¦¬ì „ â†’ ECR              â”‚ ë¦¬ì „ê°„ ì „ì†¡ ìš”ê¸ˆ    â”‚          â”‚
â”‚  â”‚ ì¸í„°ë„· â†’ ECR (inbound)      â”‚ ë¬´ë£Œ               â”‚          â”‚
â”‚  â”‚ ECR â†’ ì¸í„°ë„· (outbound)     â”‚ $0.09/GB~          â”‚          â”‚
â”‚  â”‚ ECR Public â†’ ì¸í„°ë„·          â”‚ 5TB/ì›” ë¬´ë£Œ        â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                   â”‚
â”‚  ë¹„ìš© ì ˆì•½ íŒ:                                                    â”‚
â”‚  â”œâ”€â”€ Lifecycle Policyë¡œ ë¶ˆí•„ìš” ì´ë¯¸ì§€ ìë™ ì‚­ì œ                  â”‚
â”‚  â”œâ”€â”€ ë©€í‹° ìŠ¤í…Œì´ì§€ ë¹Œë“œë¡œ ì´ë¯¸ì§€ í¬ê¸° ìµœì†Œí™”                     â”‚
â”‚  â”œâ”€â”€ Alpine/Distroless ë² ì´ìŠ¤ ì´ë¯¸ì§€ ì‚¬ìš©                        â”‚
â”‚  â”œâ”€â”€ ê°™ì€ ë¦¬ì „ ë°°ì¹˜ (ì „ì†¡ë¹„ ë¬´ë£Œ í™œìš©)                           â”‚
â”‚  â””â”€â”€ ë ˆì´ì–´ ìºì‹± ìµœì í™” (ë³€ê²½ ì ì€ ë ˆì´ì–´ë¥¼ ìœ„ì— ë°°ì¹˜)          â”‚
â”‚                                                                   â”‚
â”‚  ë¹„ìš© ê³„ì‚° ì˜ˆì‹œ:                                                  â”‚
â”‚  â”œâ”€â”€ ì´ë¯¸ì§€ í¬ê¸°: 500MB Ã— 20ê°œ = 10GB                            â”‚
â”‚  â”œâ”€â”€ ì €ì¥ ë¹„ìš©: 10GB Ã— $0.10 = $1.00/ì›”                          â”‚
â”‚  â”œâ”€â”€ ê°™ì€ ë¦¬ì „ pull: $0.00                                        â”‚
â”‚  â””â”€â”€ ì´ ë¹„ìš©: ì•½ $1.00/ì›” (ë§¤ìš° ì €ë ´!)                           â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 12.2 ì»¨í…Œì´ë„ˆ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ë¹„êµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ì£¼ìš” ì»¨í…Œì´ë„ˆ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ë¹„êµ                        â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ í•­ëª©      â”‚ ECR       â”‚ Docker Hubâ”‚ GCR/GAR  â”‚ GHCR     â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ ì œê³µì    â”‚ AWS       â”‚ Docker    â”‚ Google   â”‚ GitHub   â”‚    â”‚
â”‚  â”‚ ë¬´ë£Œ í‹°ì–´ â”‚ -         â”‚ 1 private â”‚ 0.5GB    â”‚ 500MB    â”‚    â”‚
â”‚  â”‚          â”‚           â”‚ repo      â”‚ ë¬´ë£Œ     â”‚ ë¬´ë£Œ     â”‚    â”‚
â”‚  â”‚ ì €ì¥ë¹„ìš©  â”‚ $0.10/GB  â”‚ $5~$9/ì›”  â”‚ $0.026/  â”‚ $0.008/  â”‚    â”‚
â”‚  â”‚          â”‚ /ì›”       â”‚ (í”Œëœ)    â”‚ GB/ì›”    â”‚ GB/ì¼    â”‚    â”‚
â”‚  â”‚ IAMí†µí•©   â”‚ AWS IAM   â”‚ ìì²´ì¸ì¦  â”‚ GCP IAM  â”‚ GitHub   â”‚    â”‚
â”‚  â”‚ ìŠ¤ìºë‹    â”‚ ê¸°ë³¸+ê³ ê¸‰  â”‚ ìœ ë£Œí”Œëœ  â”‚ Artifact â”‚ ì—†ìŒ     â”‚    â”‚
â”‚  â”‚          â”‚           â”‚           â”‚ Analysis â”‚          â”‚    â”‚
â”‚  â”‚ Rate Limitâ”‚ ë¬´ì œí•œ    â”‚ 100~200/  â”‚ ë¬´ì œí•œ   â”‚ ë¬´ì œí•œ   â”‚    â”‚
â”‚  â”‚ (ê°™ì€CSP) â”‚ (ê°™ì€ë¦¬ì „)â”‚ 6h       â”‚ (ê°™ì€GCP)â”‚          â”‚    â”‚
â”‚  â”‚ Lifecycle â”‚ Yes       â”‚ Proë§Œ     â”‚ Yes      â”‚ ì—†ìŒ     â”‚    â”‚
â”‚  â”‚ ë©€í‹°ë¦¬ì „  â”‚ Repli-    â”‚ ìœ ë£Œ      â”‚ Multi-   â”‚ ì—†ìŒ     â”‚    â”‚
â”‚  â”‚ ë³µì œ      â”‚ cation    â”‚           â”‚ region   â”‚          â”‚    â”‚
â”‚  â”‚ OCIí‘œì¤€   â”‚ Yes       â”‚ Yes       â”‚ Yes      â”‚ Yes      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                   â”‚
â”‚  ì„ íƒ ê°€ì´ë“œ:                                                     â”‚
â”‚  â”œâ”€â”€ AWS ì¤‘ì‹¬ ì¸í”„ë¼ â†’ ECR (ë„¤ì´í‹°ë¸Œ í†µí•©, ì „ì†¡ë¹„ ì ˆì•½)          â”‚
â”‚  â”œâ”€â”€ GCP ì¤‘ì‹¬ ì¸í”„ë¼ â†’ Artifact Registry (êµ¬ GCR)                â”‚
â”‚  â”œâ”€â”€ ì˜¤í”ˆì†ŒìŠ¤/í¼ë¸”ë¦­ ì´ë¯¸ì§€ â†’ Docker Hub ë˜ëŠ” GHCR               â”‚
â”‚  â””â”€â”€ ë©€í‹° í´ë¼ìš°ë“œ â†’ Harbor (ìì²´ í˜¸ìŠ¤íŒ… ì˜¤í”ˆì†ŒìŠ¤)               â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 12.3 ECR ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ECR ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ì²´í¬ë¦¬ìŠ¤íŠ¸                   â”‚
â”‚                                                                   â”‚
â”‚  ğŸ”’ ë³´ì•ˆ:                                                        â”‚
â”‚  â”œâ”€â”€ [âœ“] Immutable Tags í™œì„±í™” â†’ íƒœê·¸ ë®ì–´ì“°ê¸° ë°©ì§€             â”‚
â”‚  â”œâ”€â”€ [âœ“] Enhanced Scanning í™œì„±í™” â†’ ì·¨ì•½ì  ì§€ì† ëª¨ë‹ˆí„°ë§         â”‚
â”‚  â”œâ”€â”€ [âœ“] Repository Policyë¡œ ìµœì†Œ ê¶Œí•œ ì›ì¹™ ì ìš©                 â”‚
â”‚  â”œâ”€â”€ [âœ“] VPC Endpoint ì‚¬ìš© â†’ í”„ë¼ì´ë¹— ë„¤íŠ¸ì›Œí¬ë¡œ ì ‘ê·¼           â”‚
â”‚  â””â”€â”€ [âœ“] KMS ì•”í˜¸í™” â†’ ê·œì • ì¤€ìˆ˜ í•„ìš” ì‹œ                         â”‚
â”‚                                                                   â”‚
â”‚  ğŸ’° ë¹„ìš©:                                                        â”‚
â”‚  â”œâ”€â”€ [âœ“] Lifecycle Policy ì„¤ì • â†’ ë¶ˆí•„ìš” ì´ë¯¸ì§€ ìë™ ì‚­ì œ         â”‚
â”‚  â”œâ”€â”€ [âœ“] ë©€í‹° ìŠ¤í…Œì´ì§€ ë¹Œë“œ â†’ ì´ë¯¸ì§€ í¬ê¸° ìµœì†Œí™”                â”‚
â”‚  â”œâ”€â”€ [âœ“] Alpine/Distroless ë² ì´ìŠ¤ â†’ ì‘ì€ ì´ë¯¸ì§€                  â”‚
â”‚  â””â”€â”€ [âœ“] ê°™ì€ ë¦¬ì „ ë°°ì¹˜ â†’ ì „ì†¡ë¹„ ë¬´ë£Œ                            â”‚
â”‚                                                                   â”‚
â”‚  ğŸ·ï¸ íƒœê·¸:                                                        â”‚
â”‚  â”œâ”€â”€ [âœ“] Semantic Versioning (v1.2.3) ì‚¬ìš©                       â”‚
â”‚  â”œâ”€â”€ [âœ“] Git SHA íƒœê·¸ ë³‘í–‰ â†’ ì½”ë“œ ì¶”ì                            â”‚
â”‚  â”œâ”€â”€ [âœ“] latest íƒœê·¸ í”„ë¡œë•ì…˜ ì‚¬ìš© ê¸ˆì§€                          â”‚
â”‚  â””â”€â”€ [âœ“] í™˜ê²½ë³„ íƒœê·¸ prefix (dev-, staging-)                     â”‚
â”‚                                                                   â”‚
â”‚  ğŸ”„ CI/CD:                                                       â”‚
â”‚  â”œâ”€â”€ [âœ“] OIDC ì¸ì¦ ì‚¬ìš© (Access Key ëŒ€ì‹ )                        â”‚
â”‚  â”œâ”€â”€ [âœ“] ë§¤ ë¹Œë“œë§ˆë‹¤ ECR ì¬ë¡œê·¸ì¸                                â”‚
â”‚  â”œâ”€â”€ [âœ“] ìŠ¤ìº” ê²°ê³¼ ê²Œì´íŠ¸ë¡œ CRITICAL ì°¨ë‹¨                        â”‚
â”‚  â””â”€â”€ [âœ“] Pull Through Cacheë¡œ ì™¸ë¶€ ì´ë¯¸ì§€ ìºì‹±                   â”‚
â”‚                                                                   â”‚
â”‚  ğŸ“¦ ìš´ì˜:                                                        â”‚
â”‚  â”œâ”€â”€ [âœ“] Namespaceë¡œ ë ˆí¬ì§€í† ë¦¬ ê³„ì¸µ ì •ë¦¬                        â”‚
â”‚  â”œâ”€â”€ [âœ“] Cross-Region Replication â†’ DR ëŒ€ë¹„                      â”‚
â”‚  â”œâ”€â”€ [âœ“] CloudTrailë¡œ API í˜¸ì¶œ ê°ì‚¬                               â”‚
â”‚  â””â”€â”€ [âœ“] EventBridgeë¡œ ìŠ¤ìº” ê²°ê³¼ ì•Œë¦¼ ì„¤ì •                       â”‚
â”‚                                                                   â”‚
â”‚  ì´ë¯¸ì§€ í¬ê¸° ìµœì í™” ì˜ˆì‹œ:                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  Before: FROM node:18          â†’ ì•½ 1.1 GB         â”‚          â”‚
â”‚  â”‚  After:  FROM node:18-alpine   â†’ ì•½ 170 MB         â”‚          â”‚
â”‚  â”‚  Best:   Multi-stage + alpine  â†’ ì•½ 50~80 MB       â”‚          â”‚
â”‚  â”‚  Ultra:  Distroless            â†’ ì•½ 20~30 MB       â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                   â”‚
â”‚  ë©€í‹° ìŠ¤í…Œì´ì§€ ë¹Œë“œ ì˜ˆì‹œ:                                         â”‚
â”‚  # Stage 1: Build                                                 â”‚
â”‚  FROM node:18-alpine AS builder                                   â”‚
â”‚  WORKDIR /app                                                     â”‚
â”‚  COPY package*.json .                                             â”‚
â”‚  RUN npm ci --only=production                                     â”‚
â”‚  COPY . .                                                         â”‚
â”‚  RUN npm run build                                                â”‚
â”‚                                                                   â”‚
â”‚  # Stage 2: Production (ë¹Œë“œ ë„êµ¬ ì—†ì´ ì‹¤í–‰ íŒŒì¼ë§Œ!)              â”‚
â”‚  FROM node:18-alpine                                              â”‚
â”‚  WORKDIR /app                                                     â”‚
â”‚  COPY --from=builder /app/dist ./dist                             â”‚
â”‚  COPY --from=builder /app/node_modules ./node_modules             â”‚
â”‚  CMD ["node", "dist/main.js"]                                     â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ê´€ë ¨ í‚¤ì›Œë“œ

`ECR`, `Elastic Container Registry`, `Repository`, `Registry`, `Docker`, `OCI`, `Container Image`, `Tag`, `Digest`, `Manifest`, `Layer`, `Lifecycle Policy`, `Image Scanning`, `Pull Through Cache`, `Replication`, `Docker Hub`, `IAM`, `Authorization Token`, `Immutable Tags`, `ECS`, `EKS`, `Lambda`, `Fargate`, `CI/CD`, `GitHub Actions`, `Semantic Versioning`, `SOCI`, `Enhanced Scanning`, `Amazon Inspector`
