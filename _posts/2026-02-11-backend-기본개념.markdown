---
layout: single
title: "Backend κΈ°λ³Έ κ°λ…"
date: 2026-02-11 11:20:00 +0900
categories: backend
excerpt: "Backend κΈ°λ³Έ κ°λ…μ€/λ” > μ‘μ„±μΌ: 2026-01-23"
toc: true
toc_sticky: true
tags: [Backend, κΈ°λ³Έ, κ°λ…]
---

# TL;DR
- **Backend κΈ°λ³Έ κ°λ…μ ν•µμ‹¬ κ°λ…κ³Ό μ‚¬μ© λ²”μ„λ¥Ό ν•λμ— μ •λ¦¬**
- **λ“±μ¥ λ°°κ²½κ³Ό ν•„μ”ν• μ΄μ λ¥Ό μ§κ³  μ‹¤λ¬΄ μ μ© ν¬μΈνΈλ¥Ό μ—°κ²°**
- **μ£Όμ” νΉμ§•κ³Ό μ²΄ν¬λ¦¬μ¤νΈλ¥Ό λΉ λ¥΄κ² ν™•μΈ**

---

## 1. κ°λ…
**POJO** = **P**lain **O**ld **J**ava **O**bject = ν‰λ²”ν• μ›λ‚  μλ°” κ°μ²΄

## 2. λ°°κ²½
Backend κΈ°λ³Έ κ°λ…μ΄(κ°€) λ“±μ¥ν• λ°°κ²½κ³Ό κΈ°μ΅΄ ν•κ³„λ¥Ό μ •λ¦¬ν•λ‹¤.

## 3. μ΄μ 
1. ν…μ¤νΈ μ©μ΄μ„± - ν”„λ μ„μ›ν¬ μ—†μ΄ λ‹¨μ„ ν…μ¤νΈ κ°€λ¥

## 4. νΉμ§•
- μ•½μ
- κ°λ…
- POJO vs Non-POJO
- μ™ POJOλ¥Ό μ§€ν–¥ν•λ”κ°€?
- DTO vs Entity

## 5. μƒμ„Έ λ‚΄μ©

> **μ‘μ„±μΌ**: 2026-01-23
> **μΉ΄ν…κ³ λ¦¬**: Backend / Architecture
> **ν¬ν•¨ λ‚΄μ©**: POJO, DTO, SSE, JPA/ORM, Hexagonal Architecture, DI/DIP, JWT, CORS

---

# 1. POJO (Plain Old Java Object)

## μ•½μ

**POJO** = **P**lain **O**ld **J**ava **O**bject = ν‰λ²”ν• μ›λ‚  μλ°” κ°μ²΄

## κ°λ…

```
POJO = νΉμ • ν”„λ μ„μ›ν¬μ— μΆ…μ†λμ§€ μ•μ€ μμν• μλ°”/μ½”ν‹€λ¦° κ°μ²΄

β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  POJOμ νΉμ§•                                            β”‚
β”‚                                                        β”‚
β”‚  1. νΉμ • ν΄λμ¤λ¥Ό μƒμ†λ°›μ§€ μ•μ                          β”‚
β”‚  2. νΉμ • μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•μ§€ μ•μ                      β”‚
β”‚  3. νΉμ • μ–΄λ…Έν…μ΄μ…μ— μΆ…μ†λμ§€ μ•μ                      β”‚
β”‚                                                        β”‚
β”‚  λ³Έμ§: μμν• λ°μ΄ν„° + λΉ„μ¦λ‹μ¤ λ΅μ§                     β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## POJO vs Non-POJO

```kotlin
// β… POJO - μμν• μ½”ν‹€λ¦° κ°μ²΄
data class User(
    val id: Long,
    val name: String,
    val email: String
)

// β Non-POJO - ν”„λ μ„μ›ν¬ μΆ…μ†
class UserEntity : BaseEntity(), Serializable {
    @Column(name = "user_name")
    var name: String = ""
}
```

## μ™ POJOλ¥Ό μ§€ν–¥ν•λ”κ°€?

```
1. ν…μ¤νΈ μ©μ΄μ„±
   - ν”„λ μ„μ›ν¬ μ—†μ΄ λ‹¨μ„ ν…μ¤νΈ κ°€λ¥

2. μ μ—°μ„±
   - ν”„λ μ„μ›ν¬ κµμ²΄ μ‹ μν–¥ μµμ†ν™”

3. κ°€λ…μ„±
   - μμν• λΉ„μ¦λ‹μ¤ λ΅μ§μ— μ§‘μ¤‘
```

---

# 2. DTO (Data Transfer Object)

## μ•½μ

**DTO** = **D**ata **T**ransfer **O**bject = λ°μ΄ν„° μ „μ†΅ κ°μ²΄

## κ°λ…

```
DTO = κ³„μΈµ κ°„ λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•λ” λ©μ μ κ°μ²΄

β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  Controller  β†β”€β”€β”€β”€ DTO β”€β”€β”€β”€β–Ί  Service  β†β”€β”€β–Ί Repository  β”‚
β”‚     β”‚                           β”‚                       β”‚
β”‚     β”‚    RequestDTO             β”‚                       β”‚
β”‚     β”‚β—„β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€            β”‚                       β”‚
β”‚     β”‚                           β”‚                       β”‚
β”‚     β”‚    ResponseDTO            β”‚                       β”‚
β”‚     β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Ί            β”‚                       β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## DTO vs Entity

```kotlin
// Entity - DB ν…μ΄λΈ”κ³Ό 1:1 λ§¤ν•‘ (λ‚΄λ¶€μ©)
@Entity
data class UserEntity(
    @Id val id: Long,
    val name: String,
    val password: String,  // λ―Όκ° μ •λ³΄ ν¬ν•¨
    val createdAt: LocalDateTime
)

// DTO - API μ‘λ‹µμ© (μ™Έλ¶€ λ…Έμ¶)
data class UserResponse(
    val id: Long,
    val name: String
    // password μ μ™Έ!
)
```

## μ™ DTOλ¥Ό μ‚¬μ©ν•λ”κ°€?

```
1. λ³΄μ•: λ―Όκ°ν• μ •λ³΄ λ…Έμ¶ λ°©μ§€
2. μ„±λ¥: ν•„μ”ν• λ°μ΄ν„°λ§ μ „μ†΅
3. μ μ—°μ„±: API μ¤ν™κ³Ό DB μ¤ν‚¤λ§ λ¶„λ¦¬
4. λ²„μ „ κ΄€λ¦¬: API λ²„μ „λ³„ λ‹¤λ¥Έ DTO μ‚¬μ© κ°€λ¥
```

---

# 3. SSE (Server-Sent Events)

## μ•½μ

**SSE** = **S**erver-**S**ent **E**vents = μ„λ²„κ°€ λ³΄λ‚΄λ” μ΄λ²¤νΈ

## κ°λ…

```
SSE = μ„λ²„ β†’ ν΄λΌμ΄μ–ΈνΈ λ‹¨λ°©ν–¥ μ‹¤μ‹κ°„ λ°μ΄ν„° μ¤νΈλ¦¬λ°

β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                                                        β”‚
β”‚   Client                          Server               β”‚
β”‚     β”‚                               β”‚                  β”‚
β”‚     β”‚   HTTP μ”μ²­ (μ—°κ²° μ‹μ‘)        β”‚                  β”‚
β”‚     β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Ίβ”‚                  β”‚
β”‚     β”‚                               β”‚                  β”‚
β”‚     β”‚β—„β”€β”€β”€β”€β”€β”€β”€β”€ μ΄λ²¤νΈ 1 β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”‚                  β”‚
β”‚     β”‚β—„β”€β”€β”€β”€β”€β”€β”€β”€ μ΄λ²¤νΈ 2 β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”‚                  β”‚
β”‚     β”‚β—„β”€β”€β”€β”€β”€β”€β”€β”€ μ΄λ²¤νΈ 3 β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”‚                  β”‚
β”‚     β”‚         ...κ³„μ† μμ‹ ...        β”‚                  β”‚
β”‚     β”‚                               β”‚                  β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

νΉμ§•: ν• λ² μ—°κ²°ν•λ©΄ μ„λ²„κ°€ κ³„μ† λ°μ΄ν„°λ¥Ό ν‘Έμ‹
μ©λ„: μ‹¤μ‹κ°„ μ•λ¦Ό, μ£Όμ‹ μ‹μ„Έ, μ±„ν… λ“±
```

## SSE vs WebSocket

| νΉμ„± | SSE | WebSocket |
|------|-----|-----------|
| λ°©ν–¥ | λ‹¨λ°©ν–¥ (μ„λ²„β†’ν΄λΌμ΄μ–ΈνΈ) | μ–‘λ°©ν–¥ |
| ν”„λ΅ν† μ½ | HTTP | WS |
| μ¬μ—°κ²° | μλ™ | μλ™ κµ¬ν„ |
| λΈλΌμ°μ € μ§€μ› | μΆ‹μ | μΆ‹μ |
| μ©λ„ | μ•λ¦Ό, ν”Όλ“ | μ±„ν…, κ²μ„ |

## Springμ—μ„ SSE κµ¬ν„

```kotlin
@GetMapping("/events", produces = [MediaType.TEXT_EVENT_STREAM_VALUE])
fun streamEvents(): Flux<ServerSentEvent<String>> {
    return Flux.interval(Duration.ofSeconds(1))
        .map { i ->
            ServerSentEvent.builder<String>()
                .id(i.toString())
                .event("message")
                .data("Event $i")
                .build()
        }
}
```

---

# 4. JPAμ™€ ORM

## μ•½μ

```
ORM = Object-Relational Mapping = κ°μ²΄-κ΄€κ³„ν• λ§¤ν•‘
JPA = Java Persistence API = μλ°” μμ†μ„± API
```

## κ°λ…

```
ORM = κ°μ²΄(Object)μ™€ κ΄€κ³„ν• DB(Relational)λ¥Ό μλ™μΌλ΅ λ§¤ν•‘ν•΄μ£Όλ” κΈ°μ 

β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                                                         β”‚
β”‚    Java/Kotlin μ„Έκ³„              DB μ„Έκ³„               β”‚
β”‚   β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”            β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”        β”‚
β”‚   β”‚   User       β”‚            β”‚   USERS      β”‚        β”‚
β”‚   β”‚  - id: Long  β”‚β—„β”€β”€β”€ ORM β”€β”€β–Ίβ”‚  - ID        β”‚        β”‚
β”‚   β”‚  - name: Str β”‚            β”‚  - NAME      β”‚        β”‚
β”‚   β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”            β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”        β”‚
β”‚        κ°μ²΄                         ν…μ΄λΈ”             β”‚
β”‚                                                         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## JPAλ” ORMμ "ν‘μ¤€ μ¤ν™"

```
ORM κµ¬ν„μ²΄ μΆ…λ¥:
β”β”€β”€ Hibernate (κ°€μ¥ λ§μ΄ μ‚¬μ©)
β”β”€β”€ EclipseLink
β”β”€β”€ OpenJPA
β””β”€β”€ ...

JPA = μ΄ κµ¬ν„μ²΄λ“¤μ΄ λ”°λΌμ•Ό ν•  ν‘μ¤€ μΈν„°νμ΄μ¤

λΉ„μ :
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  JDBC = "DB μ—°κ²° ν‘μ¤€"               β”‚
β”‚  JPA  = "ORM ν‘μ¤€"                   β”‚
β”‚                                      β”‚
β”‚  MySQL Driver : JDBC κµ¬ν„μ²΄          β”‚
β”‚  Hibernate    : JPA κµ¬ν„μ²΄           β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## ORMμ΄ μ—†λ μ‹μ 

```java
// π± JDBC μ§μ ‘ μ‚¬μ©
String sql = "SELECT * FROM users WHERE id = ?";
PreparedStatement ps = conn.prepareStatement(sql);
ps.setLong(1, id);
ResultSet rs = ps.executeQuery();

User user = new User();
user.setId(rs.getLong("id"));
user.setName(rs.getString("name"));
// ... μλ™ λ§¤ν•‘ μ§€μ¥
```

## ORM μ‚¬μ© μ‹

```kotlin
// π JPA μ‚¬μ©
@Entity
data class User(
    @Id val id: Long,
    val name: String
)

// ν• μ¤„λ΅ μ΅°ν
val user = userRepository.findById(id)
```

---

# 5. Hexagonal Architecture

## κ°λ…

```
Hexagonal Architecture = μ΅κ°ν• μ•„ν‚¤ν…μ² = Ports & Adapters

ν•µμ‹¬ μ•„μ΄λ””μ–΄: λΉ„μ¦λ‹μ¤ λ΅μ§μ„ μ™Έλ¶€ μμ΅΄μ„±μΌλ΅λ¶€ν„° λ³΄νΈ

β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                                                         β”‚
β”‚   β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                        β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”       β”‚
β”‚   β”‚   Web   β”‚                        β”‚   DB    β”‚       β”‚
β”‚   β”‚ Adapter β”‚                        β”‚ Adapter β”‚       β”‚
β”‚   β””β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”                        β””β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”       β”‚
β”‚        β”‚                                  β”‚            β”‚
β”‚        β–Ό                                  β–Ό            β”‚
β”‚   β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”      β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”     β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”       β”‚
β”‚   β”‚  Input  β”‚      β”‚          β”‚     β”‚ Output  β”‚       β”‚
β”‚   β”‚  Port   β”β”€β”€β”€β”€β”€β–Ίβ”‚  Domain  β”‚β—„β”€β”€β”€β”€β”¤  Port   β”‚       β”‚
β”‚   β”‚         β”‚      β”‚  (Core)  β”‚     β”‚         β”‚       β”‚
β”‚   β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”      β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”     β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”       β”‚
β”‚                                                         β”‚
β”‚   Port = μΈν„°νμ΄μ¤ (κ²½κ³„)                              β”‚
β”‚   Adapter = μ‹¤μ  κµ¬ν„μ²΄ (μ™Έλ¶€ μ—°κ²°)                     β”‚
β”‚   Domain = μμν• λΉ„μ¦λ‹μ¤ λ΅μ§                         β”‚
β”‚                                                         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## μ¥μ 

```
1. ν…μ¤νΈ μ©μ΄μ„±
   - μ™Έλ¶€ μμ΅΄μ„± μ—†μ΄ λ„λ©”μΈ λ΅μ§ ν…μ¤νΈ κ°€λ¥

2. μ μ—°μ„±
   - DB κµμ²΄, API λ³€κ²½ μ‹ Adapterλ§ μμ •

3. κ΄€μ‹¬μ‚¬ λ¶„λ¦¬
   - λΉ„μ¦λ‹μ¤ λ΅μ§κ³Ό κΈ°μ μ  κµ¬ν„ λ¶„λ¦¬
```

---

# 6. DIμ™€ DIP

## μ•½μ

```
DI  = Dependency Injection = μμ΅΄μ„± μ£Όμ…
DIP = Dependency Inversion Principle = μμ΅΄μ„± μ—­μ „ μ›μΉ™
```

## DI (μμ΅΄μ„± μ£Όμ…)

```
μμ΅΄μ„± μ£Όμ… = κ°μ²΄κ°€ ν•„μ”λ΅ ν•λ” μμ΅΄μ„±μ„ μ™Έλ¶€μ—μ„ λ„£μ–΄μ£Όλ” κ²ƒ

β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                                                         β”‚
β”‚  β μ§μ ‘ μƒμ„± (κ°•κ²°ν•©)                                  β”‚
β”‚  class UserService {                                    β”‚
β”‚      val repo = UserRepository()  // μ§μ ‘ μƒμ„±         β”‚
β”‚  }                                                      β”‚
β”‚                                                         β”‚
β”‚  β… μ£Όμ… λ°›κΈ° (μ•½κ²°ν•©)                                  β”‚
β”‚  class UserService(                                     β”‚
β”‚      val repo: UserRepository  // μ™Έλ¶€μ—μ„ μ£Όμ…        β”‚
β”‚  )                                                      β”‚
β”‚                                                         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## DIP (μμ΅΄μ„± μ—­μ „ μ›μΉ™)

```
μƒμ„ λ¨λ“μ΄ ν•μ„ λ¨λ“μ— μμ΅΄ν•λ©΄ μ• λ¨
λ‘ λ‹¤ μ¶”μƒν™”(μΈν„°νμ΄μ¤)μ— μμ΅΄ν•΄μ•Ό ν•¨

β μλ»λ μμ΅΄ λ°©ν–¥:
UserService β†’ UserMySQLRepository
             (κµ¬μ²΄ ν΄λμ¤μ— μ§μ ‘ μμ΅΄)

β… μ¬λ°”λ¥Έ μμ΅΄ λ°©ν–¥:
UserService β†’ UserRepository (μΈν„°νμ΄μ¤)
                    β†‘
          UserMySQLRepository (κµ¬ν„μ²΄)
```

## Springμ—μ„μ DI

```kotlin
// μΈν„°νμ΄μ¤ μ •μ
interface UserRepository {
    fun findById(id: Long): User?
}

// κµ¬ν„μ²΄
@Repository
class UserMySQLRepository : UserRepository {
    override fun findById(id: Long): User? = ...
}

// μ‚¬μ© (μΈν„°νμ΄μ¤μ— μμ΅΄)
@Service
class UserService(
    private val userRepository: UserRepository  // μΈν„°νμ΄μ¤ νƒ€μ…!
) {
    fun getUser(id: Long) = userRepository.findById(id)
}

// Springμ΄ μ•μ•„μ„ κµ¬ν„μ²΄(UserMySQLRepository)λ¥Ό μ£Όμ…ν•΄μ¤
```

---

# 7. JWT (JSON Web Token)

## μ•½μ

**JWT** = **J**SON **W**eb **T**oken = JSON ν•μ‹μ μ›Ή ν† ν°

## κ°λ…

```
JWT = μ •λ³΄λ¥Ό JSON ν•νƒλ΅ λ‹΄μ•„ μ„λ…ν• ν† ν°

κµ¬μ΅°: xxxxx.yyyyy.zzzzz
      Header.Payload.Signature

β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                                                         β”‚
β”‚  Header (ν—¤λ”)                                          β”‚
β”‚  {                                                      β”‚
β”‚    "alg": "HS256",    // μ„λ… μ•κ³ λ¦¬μ¦                  β”‚
β”‚    "typ": "JWT"       // ν† ν° νƒ€μ…                      β”‚
β”‚  }                                                      β”‚
β”‚                                                         β”‚
β”‚  Payload (νμ΄λ΅λ“) - μ‹¤μ  λ°μ΄ν„°                       β”‚
β”‚  {                                                      β”‚
β”‚    "sub": "user123",  // μ‚¬μ©μ ID                      β”‚
β”‚    "name": "ν™κΈΈλ™",                                    β”‚
β”‚    "exp": 1234567890  // λ§λ£ μ‹κ°„                      β”‚
β”‚  }                                                      β”‚
β”‚                                                         β”‚
β”‚  Signature (μ„λ…) - μ„λ³€μ΅° λ°©μ§€                         β”‚
β”‚  HMACSHA256(                                            β”‚
β”‚    base64(header) + "." + base64(payload),              β”‚
β”‚    secret_key                                           β”‚
β”‚  )                                                      β”‚
β”‚                                                         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## Session vs JWT

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                                                         β”‚
β”‚  Session λ°©μ‹ (Stateful)                                β”‚
β”‚  β”β”€β”€ μ„λ²„κ°€ μ„Έμ… μ •λ³΄λ¥Ό λ©”λ¨λ¦¬/DBμ— μ €μ¥                β”‚
β”‚  β”β”€β”€ ν΄λΌμ΄μ–ΈνΈλ” Session IDλ§ κ°€μ§                    β”‚
β”‚  β””β”€β”€ μ„λ²„ ν™•μ¥ μ‹ μ„Έμ… κ³µμ  λ¬Έμ                         β”‚
β”‚                                                         β”‚
β”‚  JWT λ°©μ‹ (Stateless)                                   β”‚
β”‚  β”β”€β”€ μ„λ²„λ” μ•„λ¬΄κ²ƒλ„ μ €μ¥ μ• ν•¨                        β”‚
β”‚  β”β”€β”€ ν΄λΌμ΄μ–ΈνΈκ°€ λ¨λ“  μ •λ³΄λ¥Ό ν† ν°μ— λ‹΄μ•„ μ „μ†΅          β”‚
β”‚  β””β”€β”€ μ„λ²„λ” μ„λ…λ§ κ²€μ¦ν•λ©΄ λ¨                          β”‚
β”‚                                                         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## JWT μΈμ¦ νλ¦„

```
1. λ΅κ·ΈμΈ μ”μ²­
   Client β”€β”€β–Ί Server: { email, password }

2. JWT λ°κΈ‰
   Server β”€β”€β–Ί Client: { token: "eyJhbG..." }

3. μ΄ν›„ λ¨λ“  μ”μ²­μ— ν† ν° ν¬ν•¨
   Client β”€β”€β–Ί Server: Authorization: Bearer eyJhbG...

4. μ„λ²„λ” ν† ν° κ²€μ¦λ§
   Server: μ„λ… ν™•μΈ β†’ μ ν¨ν•λ©΄ μ”μ²­ μ²λ¦¬
```

---

# 8. CORS (Cross-Origin Resource Sharing)

## μ•½μ

**CORS** = **C**ross-**O**rigin **R**esource **S**haring = κµμ°¨ μ¶μ² λ¦¬μ†μ¤ κ³µμ 

## κ°λ…

```
CORS = λ‹¤λ¥Έ μ¶μ²(Origin)μ—μ„ λ¦¬μ†μ¤λ¥Ό μ”μ²­ν•  μ μκ² ν—μ©ν•λ” λ©”μ»¤λ‹μ¦

Origin = ν”„λ΅ν† μ½ + λ„λ©”μΈ + ν¬νΈ

μμ‹:
http://localhost:3000  β† Origin A
http://localhost:8080  β† Origin B (ν¬νΈ λ‹¤λ¦„ = λ‹¤λ¥Έ μ¶μ²!)
```

## μ™ ν•„μ”ν•κ°€? - SOP (Same-Origin Policy)

```
λΈλΌμ°μ €μ κΈ°λ³Έ λ³΄μ• μ •μ±…: SOP (λ™μΌ μ¶μ² μ •μ±…)

"λ‹¤λ¥Έ μ¶μ²μ λ¦¬μ†μ¤λ” κΈ°λ³Έμ μΌλ΅ μ ‘κ·Ό λ¶κ°€!"

μ΄μ : λ³΄μ• (μ•…μμ μΈ μ‚¬μ΄νΈκ°€ λ‹¤λ¥Έ μ‚¬μ΄νΈμ λ°μ΄ν„° νƒμ·¨ λ°©μ§€)

β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                                                         β”‚
β”‚  μ•…μ„± μ‚¬μ΄νΈ μ‹λ‚λ¦¬μ¤:                                  β”‚
β”‚                                                         β”‚
β”‚  1. μ‚¬μ©μκ°€ μ€ν–‰ μ‚¬μ΄νΈ λ΅κ·ΈμΈ (μΏ ν‚¤ μ €μ¥)             β”‚
β”‚  2. μ•…μ„± μ‚¬μ΄νΈ λ°©λ¬Έ                                    β”‚
β”‚  3. μ•…μ„± μ‚¬μ΄νΈκ°€ μ€ν–‰ API νΈμ¶ μ‹λ„                    β”‚
β”‚  4. λΈλΌμ°μ €κ°€ μ°¨λ‹¨! (SOP λ•λ¶„)                         β”‚
β”‚                                                         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## CORS λ™μ‘ λ°©μ‹

```
CORS = SOPμ μμ™Έλ¥Ό ν—μ©ν•λ” λ©”μ»¤λ‹μ¦

μ„λ²„κ°€ "μ΄ μ¶μ²λ” ν—μ©ν•λ‹¤"κ³  μ‘λ‹µ ν—¤λ”λ΅ μ•λ ¤μ¤:

Access-Control-Allow-Origin: http://localhost:3000

β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                                                         β”‚
β”‚  λΈλΌμ°μ € (localhost:3000)                              β”‚
β”‚      β”‚                                                  β”‚
β”‚      β”‚  1. API μ”μ²­                                     β”‚
β”‚      β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Ί  μ„λ²„ (localhost:8080)      β”‚
β”‚      β”‚                              β”‚                   β”‚
β”‚      β”‚  2. μ‘λ‹µ + CORS ν—¤λ”         β”‚                   β”‚
β”‚      β”‚β—„β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€         β”‚                   β”‚
β”‚      β”‚                              β”‚                   β”‚
β”‚      β”‚  Access-Control-Allow-Origin:β”‚                   β”‚
β”‚      β”‚  http://localhost:3000       β”‚                   β”‚
β”‚      β”‚                              β”‚                   β”‚
β”‚  3. λΈλΌμ°μ €κ°€ CORS ν—¤λ” ν™•μΈ                           β”‚
β”‚     β””β”€β”€ ν—μ© λ©λ΅μ— μμΌλ©΄ β†’ μ‘λ‹µ μ‚¬μ©                  β”‚
β”‚     β””β”€β”€ μ—†μΌλ©΄ β†’ μ°¨λ‹¨!                                  β”‚
β”‚                                                         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

π’΅ ν•µμ‹¬: μ„λ²„λ” μ •μƒ μ‘λ‹µν•¨! λΈλΌμ°μ €κ°€ μ°¨λ‹¨ν•λ” κ²ƒ!
```

## μ‹¤μ  μ‚¬λ΅€

```
μ‹λ‚λ¦¬μ¤:
- ν”„λ΅ νΈμ—”λ“: http://192.168.11.65:3000
- λ°±μ—”λ“: http://192.168.11.65:8072
- λ°±μ—”λ“ CORS μ„¤μ •: localhost:8072λ§ ν—μ©

κ²°κ³Ό: λΈλΌμ°μ €μ—μ„ μ ‘κ·Ό λ¶κ°€!

μ΄μ : 192.168.11.65 β‰  localhost (λ‹¤λ¥Έ Origin)
```

## Springμ—μ„ CORS μ„¤μ •

```kotlin
@Configuration
class WebConfig : WebMvcConfigurer {
    override fun addCorsMappings(registry: CorsRegistry) {
        registry.addMapping("/api/**")
            .allowedOrigins(
                "http://localhost:3000",
                "http://192.168.11.65:3000"  // IPλ„ μ¶”κ°€!
            )
            .allowedMethods("GET", "POST", "PUT", "DELETE")
            .allowedHeaders("*")
            .allowCredentials(true)
    }
}
```

---

## κ΄€λ ¨ ν‚¤μ›λ“

`POJO`, `DTO`, `SSE`, `JPA`, `ORM`, `Hibernate`, `Hexagonal Architecture`, `Ports and Adapters`, `DI`, `DIP`, `SOLID`, `JWT`, `JSON Web Token`, `CORS`, `SOP`, `Cross-Origin`
