---
layout: single
title: "Istioμ™€ Service Mesh"
date: 2026-02-11 11:20:00 +0900
categories: cloud
excerpt: "``` Service Mesh = λ§μ΄ν¬λ΅μ„λΉ„μ¤ κ°„ ν†µμ‹ μ„ κ΄€λ¦¬ν•λ” μΈν”„λΌ κ³„μΈµ"
toc: true
toc_sticky: true
tags: [Istioμ™€, Service, Mesh]
---

# TL;DR
- **Istioμ™€ Service Meshμ ν•µμ‹¬ κ°λ…κ³Ό μ‚¬μ© λ²”μ„λ¥Ό ν•λμ— μ •λ¦¬**
- **λ“±μ¥ λ°°κ²½κ³Ό ν•„μ”ν• μ΄μ λ¥Ό μ§κ³  μ‹¤λ¬΄ μ μ© ν¬μΈνΈλ¥Ό μ—°κ²°**
- **μ£Όμ” νΉμ§•κ³Ό μ²΄ν¬λ¦¬μ¤νΈλ¥Ό λΉ λ¥΄κ² ν™•μΈ**

---

## 1. κ°λ…
``` Service Mesh = λ§μ΄ν¬λ΅μ„λΉ„μ¤ κ°„ ν†µμ‹ μ„ κ΄€λ¦¬ν•λ” μΈν”„λΌ κ³„μΈµ

## 2. λ°°κ²½
Istioμ™€ Service Meshμ΄(κ°€) λ“±μ¥ν• λ°°κ²½κ³Ό κΈ°μ΅΄ ν•κ³„λ¥Ό μ •λ¦¬ν•λ‹¤.

## 3. μ΄μ 
μ΄ μ£Όμ λ¥Ό μ΄ν•΄ν•κ³  μ μ©ν•΄μ•Ό ν•λ” μ΄μ λ¥Ό μ •λ¦¬ν•λ‹¤.

## 4. νΉμ§•
- κ°λ…
- Service Meshκ°€ μ—†μ„ λ• vs μμ„ λ•
- μ΄λ¦„μ μλ―Έ
- Istio μ•„ν‚¤ν…μ²
- Istioμ Sidecar μλ™ μ£Όμ…

## 5. μƒμ„Έ λ‚΄μ©

> **μ‘μ„±μΌ**: 2026-01-28
> **μΉ΄ν…κ³ λ¦¬**: Cloud / Kubernetes / Service Mesh
> **ν¬ν•¨ λ‚΄μ©**: Istio, Service Mesh, Sidecar Pattern, Envoy, VirtualService, mTLS

---

# 1. Service Meshλ€?

## κ°λ…

```
Service Mesh = λ§μ΄ν¬λ΅μ„λΉ„μ¤ κ°„ ν†µμ‹ μ„ κ΄€λ¦¬ν•λ” μΈν”„λΌ κ³„μΈµ

β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                                                         β”‚
β”‚  λ§μ΄ν¬λ΅μ„λΉ„μ¤ ν™κ²½μ λ¬Έμ :                            β”‚
β”‚                                                         β”‚
β”‚  μ„λΉ„μ¤ A β†β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β†’ μ„λΉ„μ¤ B         β”‚
β”‚                                                         β”‚
β”‚  μ΄ ν†µμ‹ μ—μ„ ν•΄κ²°ν•΄μ•Ό ν•  κ²ƒλ“¤:                          β”‚
β”‚  β”β”€β”€ λ³΄μ•: μ•”νΈν™”, μΈμ¦                                 β”‚
β”‚  β”β”€β”€ κ΄€μ°°: λ΅κΉ…, λ©”νΈλ¦­, νΈλ μ΄μ‹±                       β”‚
β”‚  β”β”€β”€ μ‹ λΆ°μ„±: μ¬μ‹λ„, νƒ€μ„μ•„μ›ƒ, μ„ν‚· λΈλ μ΄μ»¤            β”‚
β”‚  β”β”€β”€ νΈλν”½ κ΄€λ¦¬: λΌμ°ν…, λ΅λ“λ°Έλ°μ‹±                    β”‚
β”‚  β””β”€β”€ μ΄κ±Έ κ° μ„λΉ„μ¤λ§λ‹¤ κµ¬ν„? λ„λ¬΄ λ³µμ΅!                β”‚
β”‚                                                         β”‚
β”‚  Service Mesh = μ΄λ° "ν΅λ‹¨ κ΄€μ‹¬μ‚¬"λ¥Ό μΈν”„λΌλ΅ λ¶„λ¦¬      β”‚
β”‚                                                         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## Service Meshκ°€ μ—†μ„ λ• vs μμ„ λ•

```
β μ—†μ„ λ•: κ° μ„λΉ„μ¤κ°€ μ§μ ‘ κµ¬ν„
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”       β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚   Service A     β”‚       β”‚   Service B     β”‚
β”‚ β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚       β”‚ β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚
β”‚ β”‚ λΉ„μ¦λ‹μ¤    β”‚ β”‚       β”‚ β”‚ λΉ„μ¦λ‹μ¤    β”‚ β”‚
β”‚ β”‚ λ΅μ§        β”‚ β”‚       β”‚ β”‚ λ΅μ§        β”‚ β”‚
β”‚ β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤ β”‚       β”‚ β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤ β”‚
β”‚ β”‚ μ•”νΈν™”      β”‚ β”‚       β”‚ β”‚ μ•”νΈν™”      β”‚ β”‚
β”‚ β”‚ μ¬μ‹λ„      β”‚ β”‚ β†β”€β”€β”€β†’ β”‚ β”‚ μ¬μ‹λ„      β”‚ β”‚
β”‚ β”‚ λ΅κΉ…        β”‚ β”‚       β”‚ β”‚ λ΅κΉ…        β”‚ β”‚
β”‚ β”‚ ...         β”‚ β”‚       β”‚ β”‚ ...         β”‚ β”‚
β”‚ β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚       β”‚ β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”       β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

β… μμ„ λ•: μΈν”„λΌκ°€ μ²λ¦¬
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”       β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚   Service A     β”‚       β”‚   Service B     β”‚
β”‚ β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚       β”‚ β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚
β”‚ β”‚ λΉ„μ¦λ‹μ¤    β”‚ β”‚       β”‚ β”‚ λΉ„μ¦λ‹μ¤    β”‚ β”‚
β”‚ β”‚ λ΅μ§λ§!     β”‚ β”‚       β”‚ β”‚ λ΅μ§λ§!     β”‚ β”‚
β”‚ β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β” β”‚       β”‚ β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β” β”‚
β”‚        β”‚        β”‚       β”‚        β”‚        β”‚
β”‚ β”β”€β”€β”€β”€β”€β”€β–Όβ”€β”€β”€β”€β”€β”€β” β”‚       β”‚ β”β”€β”€β”€β”€β”€β”€β–Όβ”€β”€β”€β”€β”€β”€β” β”‚
β”‚ β”‚   Sidecar   β”‚ β”‚ β†β”€β”€β”€β†’ β”‚ β”‚   Sidecar   β”‚ β”‚
β”‚ β”‚   Proxy     β”‚ β”‚       β”‚ β”‚   Proxy     β”‚ β”‚
β”‚ β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚       β”‚ β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”       β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

# 2. Istioλ€?

## κ°λ…

```
Istio = Service Meshμ κµ¬ν„μ²΄ (κ°€μ¥ μΈκΈ° μλ”)

λ‹¤λ¥Έ κµ¬ν„μ²΄λ“¤:
β”β”€β”€ Istio (Google, IBM, Lyft)
β”β”€β”€ Linkerd (CNCF)
β”β”€β”€ Consul Connect (HashiCorp)
β””β”€β”€ AWS App Mesh
```

## μ΄λ¦„μ μλ―Έ

```
Istio = κ·Έλ¦¬μ¤μ–΄λ΅ "λ›" (ΞΉΟƒΟ„Ξ―ΞΏ)

Kubernetesκ°€ "μ΅°νƒ€μ"λΌλ©΄
Istioλ” "λ›" = λ°°λ¥Ό μ›€μ§μ΄κ² ν•λ” ν

λΉ„μ : K8sκ°€ μ»¨ν…μ΄λ„λ¥Ό κ΄€λ¦¬ν•λ‹¤λ©΄
     Istioλ” μ»¨ν…μ΄λ„ κ°„ ν†µμ‹ μ„ κ΄€λ¦¬
```

## Istio μ•„ν‚¤ν…μ²

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                     Istio μ•„ν‚¤ν…μ²                       β”‚
β”‚                                                         β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚
β”‚  β”‚              Control Plane (Istiod)              β”‚   β”‚
β”‚  β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”         β”‚   β”‚
β”‚  β”‚  β”‚ Pilot   β”‚  β”‚ Citadel β”‚  β”‚ Galley  β”‚         β”‚   β”‚
β”‚  β”‚  β”‚(λΌμ°ν…) β”‚  β”‚ (λ³΄μ•)  β”‚  β”‚ (μ„¤μ •)  β”‚         β”‚   β”‚
β”‚  β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”         β”‚   β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚
β”‚                         β”‚ μ„¤μ • λ°°ν¬                     β”‚
β”‚                         β–Ό                               β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚
β”‚  β”‚                  Data Plane                      β”‚   β”‚
β”‚  β”‚                                                  β”‚   β”‚
β”‚  β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”         β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”       β”‚   β”‚
β”‚  β”‚  β”‚    Pod A    β”‚         β”‚    Pod B    β”‚       β”‚   β”‚
β”‚  β”‚  β”‚ β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚         β”‚ β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚       β”‚   β”‚
β”‚  β”‚  β”‚ β”‚   App   β”‚ β”‚         β”‚ β”‚   App   β”‚ β”‚       β”‚   β”‚
β”‚  β”‚  β”‚ β””β”€β”€β”€β”€β”¬β”€β”€β”€β”€β” β”‚         β”‚ β””β”€β”€β”€β”€β”¬β”€β”€β”€β”€β” β”‚       β”‚   β”‚
β”‚  β”‚  β”‚      β”‚      β”‚         β”‚      β”‚      β”‚       β”‚   β”‚
β”‚  β”‚  β”‚ β”β”€β”€β”€β”€β–Όβ”€β”€β”€β”€β” β”‚β—„β”€β”€β”€β”€β”€β”€β”€β–Ίβ”‚ β”β”€β”€β”€β”€β–Όβ”€β”€β”€β”€β” β”‚       β”‚   β”‚
β”‚  β”‚  β”‚ β”‚  Envoy  β”‚ β”‚         β”‚ β”‚  Envoy  β”‚ β”‚       β”‚   β”‚
β”‚  β”‚  β”‚ β”‚ (μ‚¬μ΄λ“ β”‚ β”‚         β”‚ β”‚ (μ‚¬μ΄λ“ β”‚ β”‚       β”‚   β”‚
β”‚  β”‚  β”‚ β”‚  μΉ΄)    β”‚ β”‚         β”‚ β”‚  μΉ΄)    β”‚ β”‚       β”‚   β”‚
β”‚  β”‚  β”‚ β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚         β”‚ β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚       β”‚   β”‚
β”‚  β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”         β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”       β”‚   β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚
β”‚                                                         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

π’΅ ν•µμ‹¬ ν¬μΈνΈ:
   - Control Plane: μ •μ±… κ²°μ • (Istiod)
   - Data Plane: μ‹¤μ  νΈλν”½ μ²λ¦¬ (Envoy ν”„λ΅μ‹λ“¤)
   - Pod κ°„ ν†µμ‹ μ€ Envoy μ‚¬μ΄λ“μΉ΄λ¥Ό ν†µν•΄ μ΄λ£¨μ–΄μ§!
```

---

# 3. Sidecar Pattern

## κ°λ…

```
Sidecar = μ¤ν† λ°”μ΄ μ†μ— λ¶™μ€ μ‚¬μ΄λ“μΉ΄

β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                                                         β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”     β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”         β”‚
β”‚  β”‚    μ¤ν† λ°”μ΄      β”‚     β”‚      μ‚¬μ΄λ“μΉ΄    β”‚         β”‚
β”‚  β”‚   (λ³Έμ²΄/μ•±)      β”‚ β”€β”€β”€ β”‚   (λ³΄μ΅° κΈ°λ¥)    β”‚         β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”     β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”         β”‚
β”‚                                                         β”‚
β”‚  νΉμ§•:                                                  β”‚
β”‚  β”β”€β”€ λ³Έμ²΄μ™€ ν•¨κ» μ΄λ™ (κ°™μ€ Podμ—μ„ μ‹¤ν–‰)               β”‚
β”‚  β”β”€β”€ λ³Έμ²΄μ™€ λ…λ¦½μ  (λ³„λ„ μ»¨ν…μ΄λ„)                      β”‚
β”‚  β””β”€β”€ λ³Έμ²΄μ— μ¶”κ°€ κΈ°λ¥ μ κ³µ                              β”‚
β”‚                                                         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## Istioμ Sidecar μλ™ μ£Όμ…

```yaml
# Namespaceμ— λΌλ²¨λ§ μ¶”κ°€ν•λ©΄ μλ™μΌλ΅ Sidecar μ£Όμ…
apiVersion: v1
kind: Namespace
metadata:
  name: my-app
  labels:
    istio-injection: enabled  # μ΄ λΌλ²¨μ΄ ν•µμ‹¬!

# μ΄ Namespaceμ— λ°°ν¬λλ” λ¨λ“  Podμ—
# μλ™μΌλ΅ Envoy μ‚¬μ΄λ“μΉ΄κ°€ μ¶”κ°€λ¨
```

```
Pod λ°°ν¬ μ‹:
μ›λ μ •μ: App μ»¨ν…μ΄λ„ 1κ°
μ‹¤μ  μƒμ„±: App μ»¨ν…μ΄λ„ + Envoy μ‚¬μ΄λ“μΉ΄ = 2κ°

kubectl get pods
NAME         READY   STATUS
my-app       2/2     Running   # 2κ° μ»¨ν…μ΄λ„!
```

---

# 4. Envoy Proxy

## μ΄λ¦„μ μλ―Έ

```
Envoy = μ‚¬μ , νΉμ‚¬, λ€λ¦¬μΈ

"μ•±μ„ λ€μ‹ ν•΄μ„ λ„¤νΈμ›ν¬ ν†µμ‹ μ„ μ²λ¦¬ν•λ” λ€λ¦¬μΈ"
```

## Envoyλ€?

```
Envoy = Lyftμ—μ„ λ§λ“  κ³ μ„±λ¥ ν”„λ΅μ‹

β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                                                         β”‚
β”‚  Envoyμ μ—­ν•  (μ‚¬μ΄λ“μΉ΄λ΅μ„):                           β”‚
β”‚                                                         β”‚
β”‚  1. λ¨λ“  μΈ/μ•„μ›ƒλ°”μ΄λ“ νΈλν”½ κ°€λ΅μ±„κΈ°                  β”‚
β”‚  2. λ΅λ“λ°Έλ°μ‹±                                          β”‚
β”‚  3. TLS μΆ…λ£/μ‹μ‘                                       β”‚
β”‚  4. μ¬μ‹λ„, νƒ€μ„μ•„μ›ƒ, μ„ν‚· λΈλ μ΄μ»¤                     β”‚
β”‚  5. λ©”νΈλ¦­ μμ§‘                                         β”‚
β”‚  6. μ•΅μ„Έμ¤ λ΅κΉ…                                         β”‚
β”‚                                                         β”‚
β”‚  μ•± μ…μ¥μ—μ„λ” "ν¬λ…ν•κ²" λ™μ‘                          β”‚
β”‚  (μ•± μ½”λ“ μμ • μ—†μ΄ μ„ κΈ°λ¥λ“¤μ΄ μ¶”κ°€λ¨)                 β”‚
β”‚                                                         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

# 5. Istioμ ν•µμ‹¬ κΈ°λ¥

## 5.1 mTLS (Mutual TLS)

```
mTLS = μ–‘λ°©ν–¥ TLS μΈμ¦

μΌλ° TLS: ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„ μΈμ¦μ„ ν™•μΈ
mTLS: μ„λ²„λ„ ν΄λΌμ΄μ–ΈνΈ μΈμ¦μ„ ν™•μΈ (μ–‘λ°©ν–¥)

β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                                                         β”‚
β”‚  Service A              Envoy β†β”€β”€β–Ί Envoy              B β”‚
β”‚     β”‚                     β”‚   μ•”νΈν™”   β”‚                β”‚
β”‚     β”‚                     β”‚   + μƒνΈ   β”‚                β”‚
β”‚     β”‚ ν‰λ¬Έ                β”‚   μΈμ¦     β”‚    ν‰λ¬Έ        β”‚
β”‚     β””β”€β”€β–Ί                  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”     β—„β”€β”€         β”‚
β”‚                                                         β”‚
β”‚  Istioκ°€ μλ™μΌλ΅ μΈμ¦μ„ λ°κΈ‰/κ°±μ‹                       β”‚
β”‚  μ„λΉ„μ¤ κ°„ ν†µμ‹ μ΄ μλ™μΌλ΅ μ•”νΈν™” + μΈμ¦                β”‚
β”‚                                                         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## 5.2 νΈλν”½ κ΄€λ¦¬

```
Istioλ΅ ν•  μ μλ” νΈλν”½ κ΄€λ¦¬:

1. μΉ΄λ‚λ¦¬ λ°°ν¬
   v1: 90% β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Ί
   v2: 10% β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Ί

2. A/B ν…μ¤νΈ
   ν—¤λ”μ— "beta: true" β†’ v2λ΅
   κ·Έ μ™Έ β†’ v1λ΅

3. νΈλν”½ λ―Έλ¬λ§
   λ¨λ“  νΈλν”½ β†’ v1 (μ‹¤μ  μ²λ¦¬)
              β†’ v2 (λ³µμ‚¬λ³Έ, ν…μ¤νΈμ©)

4. μ„ν‚· λΈλ μ΄μ»¤
   μ—°μ† 5λ² μ—λ¬ β†’ ν•΄λ‹Ή μ„λΉ„μ¤ μ°¨λ‹¨
```

---

# 6. VirtualServiceμ™€ DestinationRule

## VirtualService

```
VirtualService = νΈλν”½ λΌμ°ν… κ·μΉ™ μ •μ

"μ–΄λ–¤ μ”μ²­μ„ μ–΄λ””λ΅ λ³΄λ‚Όμ§€"
```

```yaml
apiVersion: networking.istio.io/v1beta1
kind: VirtualService
metadata:
  name: my-service
spec:
  hosts:
    - my-service
  http:
    # URL κΈ°λ° λΌμ°ν…
    - match:
        - uri:
            prefix: /api/v2
      route:
        - destination:
            host: my-service
            subset: v2

    # κ°€μ¤‘μΉ κΈ°λ° λΌμ°ν… (μΉ΄λ‚λ¦¬)
    - route:
        - destination:
            host: my-service
            subset: v1
          weight: 90
        - destination:
            host: my-service
            subset: v2
          weight: 10
```

## DestinationRule

```
DestinationRule = λ©μ μ§€ λ„μ°© ν›„μ μ •μ±… μ •μ

"μ„λΉ„μ¤μ— λ„μ°©ν–μ„ λ• μ–΄λ–»κ² μ²λ¦¬ν• μ§€"
```

```yaml
apiVersion: networking.istio.io/v1beta1
kind: DestinationRule
metadata:
  name: my-service
spec:
  host: my-service
  trafficPolicy:
    connectionPool:
      tcp:
        maxConnections: 100
    outlierDetection:
      consecutive5xxErrors: 5
      interval: 30s
      baseEjectionTime: 30s
  subsets:
    - name: v1
      labels:
        version: v1
    - name: v2
      labels:
        version: v2
```

---

# 7. Istio Gateway

## K8s Ingress vs Istio Gateway

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                                                         β”‚
β”‚  K8s Ingress:                                           β”‚
β”‚  β”β”€β”€ ν΄λ¬μ¤ν„° μ™Έλ¶€ β†’ λ‚΄λ¶€ νΈλν”½ κ΄€λ¦¬                   β”‚
β”‚  β”β”€β”€ κΈ°λ³Έμ μΈ HTTP λΌμ°ν…                               β”‚
β”‚  β””β”€β”€ λ‹¨μν• κΈ°λ¥                                        β”‚
β”‚                                                         β”‚
β”‚  Istio Gateway:                                         β”‚
β”‚  β”β”€β”€ Ingressμ ν™•μ¥ν                                   β”‚
β”‚  β”β”€β”€ VirtualServiceμ™€ ν•¨κ» μ‚¬μ©                         β”‚
β”‚  β”β”€β”€ λ” μ„Έλ°€ν• νΈλν”½ μ μ–΄                              β”‚
β”‚  β”β”€β”€ mTLS μ„¤μ • κ°€λ¥                                     β”‚
β”‚  β””β”€β”€ νΈλν”½ λ―Έλ¬λ§, κ°€μ¤‘μΉ λΌμ°ν… λ“±                    β”‚
β”‚                                                         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

```yaml
# Istio Gateway μμ‹
apiVersion: networking.istio.io/v1beta1
kind: Gateway
metadata:
  name: my-gateway
spec:
  selector:
    istio: ingressgateway
  servers:
    - port:
        number: 443
        name: https
        protocol: HTTPS
      tls:
        mode: SIMPLE
        credentialName: my-cert
      hosts:
        - "my-app.example.com"
```

---

# 8. μ •λ¦¬

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                                                         β”‚
β”‚  Service Mesh                                           β”‚
β”‚  β””β”€β”€ λ§μ΄ν¬λ΅μ„λΉ„μ¤ κ°„ ν†µμ‹ μ„ κ΄€λ¦¬ν•λ” μΈν”„λΌ κ³„μΈµ      β”‚
β”‚                                                         β”‚
β”‚  Istio                                                  β”‚
β”‚  β””β”€β”€ Service Meshμ κ°€μ¥ μΈκΈ° μλ” κµ¬ν„μ²΄               β”‚
β”‚                                                         β”‚
β”‚  Sidecar Pattern                                        β”‚
β”‚  β””β”€β”€ κ° Podμ— ν”„λ΅μ‹λ¥Ό λ¶™μ—¬μ„ ν†µμ‹ μ„ κ°€λ΅μ±„λ” ν¨ν„΄      β”‚
β”‚                                                         β”‚
β”‚  Envoy                                                  β”‚
β”‚  β””β”€β”€ Istioκ°€ μ‚¬μ©ν•λ” κ³ μ„±λ¥ ν”„λ΅μ‹                     β”‚
β”‚                                                         β”‚
β”‚  ν•µμ‹¬ λ¦¬μ†μ¤:                                           β”‚
β”‚  β”β”€β”€ VirtualService: νΈλν”½ λΌμ°ν… κ·μΉ™                 β”‚
β”‚  β”β”€β”€ DestinationRule: λ©μ μ§€ μ •μ±…                       β”‚
β”‚  β””β”€β”€ Gateway: μ™Έλ¶€ νΈλν”½ μ§„μ…μ                         β”‚
β”‚                                                         β”‚
β”‚  ν•µμ‹¬ κΈ°λ¥:                                             β”‚
β”‚  β”β”€β”€ mTLS (μλ™ μ•”νΈν™”)                                 β”‚
β”‚  β”β”€β”€ νΈλν”½ κ΄€λ¦¬ (μΉ΄λ‚λ¦¬, A/B, λ―Έλ¬λ§)                  β”‚
β”‚  β”β”€β”€ κ΄€μ°°μ„± (λ©”νΈλ¦­, λ΅κΉ…, νΈλ μ΄μ‹±)                    β”‚
β”‚  β””β”€β”€ μ •μ±… (rate limit, retry, circuit breaker)         β”‚
β”‚                                                         β”‚
β”‚  π’΅ ν•µμ‹¬ ν¬μΈνΈ:                                        β”‚
β”‚  "Istioλ” Pod κ°„ ν†µμ‹ μ„ μ μ–΄ν•λ” κ²ƒμ΄ ν•µμ‹¬ λ©μ !"       β”‚
β”‚  μ‚¬μ΄λ“μΉ΄κ°€ Pod μ•μ—μ„ λ™μ‘ν•μ§€λ§,                      β”‚
β”‚  κ·Έ λ©μ μ€ Pod λ°–μΌλ΅ λ‚κ°€λ”/λ“¤μ–΄μ¤λ” νΈλν”½ μ μ–΄       β”‚
β”‚                                                         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## κ΄€λ ¨ ν‚¤μ›λ“

`Istio`, `Service Mesh`, `Sidecar`, `Envoy`, `Proxy`, `mTLS`, `VirtualService`, `DestinationRule`, `Gateway`, `νΈλν”½ κ΄€λ¦¬`, `μΉ΄λ‚λ¦¬ λ°°ν¬`
